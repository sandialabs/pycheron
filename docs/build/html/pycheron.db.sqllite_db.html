<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>pycheron.db.sqllite_db &#8212; Pycheron 2.1.0 documentation</title>
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html"><span><img src="_static/horse-128.png"></span>
          Pycheron</a>
        <span class="navbar-text navbar-version pull-left"><b>2.1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="install.html">Install</a></li>
                <li><a href="pycheron.html">Documentation</a></li>
                <li><a href="https://gitlab.sandia.gov/lynm/pycheron">Gitlab</a></li>
                <li><a href="tutorials">Tutorials</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Documentation <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">pycheron.db.sqllite_db</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <div class="section" id="pycheron-db-sqllite-db">
<h1>pycheron.db.sqllite_db<a class="headerlink" href="#pycheron-db-sqllite-db" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="pycheron.db.sqllite_db.Database">
<em class="property">class </em><code class="descname">Database</code><span class="sig-paren">(</span><em>db_name</em>, <em>session_name=None</em>, <em>overwrite=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycheron/db/sqllite_db.html#Database"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycheron.db.sqllite_db.Database" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a custom database class which interfaces with callPycheronMetric as well as the other metric functions in
the library. The database creates (if not already created) an SQLlite3 database and connect to it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>db_name</strong> (<em>str</em>) – Name of database</li>
<li><strong>session_name</strong> (<em>str</em>) – Session name. Allows for multiple sessions for running the same data</li>
<li><strong>overwrite</strong> (<em>bool</em>) – If <cite>True</cite> any data that is the same will be overwritten</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>To create a database:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">Database</span><span class="p">(</span><span class="s2">&quot;test.db&quot;</span><span class="p">,</span> <span class="n">session_name</span><span class="o">=</span><span class="s2">&quot;session1&quot;</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="pycheron.db.sqllite_db.Database.channels">
<code class="descname">channels</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycheron/db/sqllite_db.html#Database.channels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycheron.db.sqllite_db.Database.channels" title="Permalink to this definition">¶</a></dt>
<dd><p>Lists all of the unique channels in the database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">channel names</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycheron.db.sqllite_db.Database.connect">
<code class="descname">connect</code><span class="sig-paren">(</span><em>db_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycheron/db/sqllite_db.html#Database.connect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycheron.db.sqllite_db.Database.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Connects to a specific database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>db_name</strong> (<em>str</em>) – database name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">database connection</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycheron.db.sqllite_db.Database.extract_masks">
<code class="descname">extract_masks</code><span class="sig-paren">(</span><em>mask</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycheron/db/sqllite_db.html#Database.extract_masks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycheron.db.sqllite_db.Database.extract_masks" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts masks. Most masks are dumped into JSON format, this extracxts them and returns them to lists or dicts</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mask</strong> – mask from database</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">extracted mask</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycheron.db.sqllite_db.Database.get_connection">
<code class="descname">get_connection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycheron/db/sqllite_db.html#Database.get_connection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycheron.db.sqllite_db.Database.get_connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the database connection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">database connection</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycheron.db.sqllite_db.Database.get_metric">
<code class="descname">get_metric</code><span class="sig-paren">(</span><em>metric_name</em>, <em>network=None</em>, <em>station=None</em>, <em>channel=None</em>, <em>location=None</em>, <em>time=None</em>, <em>session=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycheron/db/sqllite_db.html#Database.get_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycheron.db.sqllite_db.Database.get_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets data for specific metric. Searchable by network, station, channel, location, time and session name</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>metric_name</strong> (<em>str</em>) – metric name</li>
<li><strong>network</strong> (<em>str</em>) – network name</li>
<li><strong>station</strong> (<em>str</em>) – station name</li>
<li><strong>channel</strong> (<em>str</em>) – channel name</li>
<li><strong>location</strong> (<em>str</em>) – location</li>
<li><strong>time</strong> (<em>tuple</em>) – Tuple of starttime and endtime. ex. <cite>time = (“2011-01-01T00:00:00”,”2011-01-01T23:55:13.190000”)</cite></li>
<li><strong>session</strong> (<em>str</em>) – session name</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Pandas DataFrame</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><cite>pandas.DataFrame</cite></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycheron.db.sqllite_db.Database.insert_metric">
<code class="descname">insert_metric</code><span class="sig-paren">(</span><em>metric</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycheron/db/sqllite_db.html#Database.insert_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycheron.db.sqllite_db.Database.insert_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts metric into database</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>metric</strong> (<em>data</em>) – metric results</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycheron.db.sqllite_db.Database.metrics">
<code class="descname">metrics</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycheron/db/sqllite_db.html#Database.metrics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycheron.db.sqllite_db.Database.metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Lists all of the unique metrics in the database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">metric names</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycheron.db.sqllite_db.Database.networks">
<code class="descname">networks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycheron/db/sqllite_db.html#Database.networks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycheron.db.sqllite_db.Database.networks" title="Permalink to this definition">¶</a></dt>
<dd><p>Lists all of the unique networks in the database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">network names</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycheron.db.sqllite_db.Database.query">
<code class="descname">query</code><span class="sig-paren">(</span><em>sql</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycheron/db/sqllite_db.html#Database.query"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycheron.db.sqllite_db.Database.query" title="Permalink to this definition">¶</a></dt>
<dd><p>For advanced users, a direct SQL command or statement can be used.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sql</strong> (<em>str</em>) – SQL formated statement</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Pandas DataFrame</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><cite>pandas.DataFrame</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycheron.db.sqllite_db.Database.session">
<code class="descname">session</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycheron/db/sqllite_db.html#Database.session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycheron.db.sqllite_db.Database.session" title="Permalink to this definition">¶</a></dt>
<dd><p>Lists all of the sessions in the database</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">session names</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycheron.db.sqllite_db.Database.set_overwrite">
<code class="descname">set_overwrite</code><span class="sig-paren">(</span><em>overwrite</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycheron/db/sqllite_db.html#Database.set_overwrite"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycheron.db.sqllite_db.Database.set_overwrite" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the overwrite parameters for database</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>overwrite</strong> (<em>bool</em>) – If True, entries with the same session name, SNCLQ, and time will be over written.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycheron.db.sqllite_db.Database.set_session_name">
<code class="descname">set_session_name</code><span class="sig-paren">(</span><em>session_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycheron/db/sqllite_db.html#Database.set_session_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycheron.db.sqllite_db.Database.set_session_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the session name. Purpose of this is to separate different runs with the same data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>session_name</strong> (<em>str</em>) – session name</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycheron.db.sqllite_db.Database.stations">
<code class="descname">stations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycheron/db/sqllite_db.html#Database.stations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycheron.db.sqllite_db.Database.stations" title="Permalink to this definition">¶</a></dt>
<dd><p>Lists all of the unique stations in the database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">station names</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycheron.db.sqllite_db.Database.to_csv">
<code class="descname">to_csv</code><span class="sig-paren">(</span><em>out_dir</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycheron/db/sqllite_db.html#Database.to_csv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycheron.db.sqllite_db.Database.to_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts all tables into CSV files. 1 file per table</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>out_dir</strong> (<em>str</em>) – directory location to save files</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycheron.db.sqllite_db.Database.to_dataframe">
<code class="descname">to_dataframe</code><span class="sig-paren">(</span><em>table</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycheron/db/sqllite_db.html#Database.to_dataframe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycheron.db.sqllite_db.Database.to_dataframe" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts specific database table into pandas df</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>table</strong> (<em>str</em>) – table name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Pandas DataFrame</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><cite>pandas.DataFrame</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycheron.db.sqllite_db.Database.view">
<code class="descname">view</code><span class="sig-paren">(</span><em>metric_name=None</em>, <em>network=None</em>, <em>station=None</em>, <em>channel=None</em>, <em>location=None</em>, <em>time=None</em>, <em>session=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycheron/db/sqllite_db.html#Database.view"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycheron.db.sqllite_db.Database.view" title="Permalink to this definition">¶</a></dt>
<dd><p>View in the main directory table (pycheron) all of the databases contents. Sort by combinations of metric name, network, station, channel, locations, time, and session name. If no options are given, it will return everything in the pycheron table.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>metric_name</strong> (<em>str</em>) – metric name</li>
<li><strong>network</strong> (<em>str</em>) – network name</li>
<li><strong>station</strong> (<em>str</em>) – station name</li>
<li><strong>channel</strong> (<em>str</em>) – channel name</li>
<li><strong>location</strong> (<em>str</em>) – location</li>
<li><strong>time</strong> (<em>tuple</em>) – Tuple of starttime and endtime strings. ex. <cite>time = (“2011-01-01T00:00:00”,”2011-01-01T23:55:13.190000”)</cite></li>
<li><strong>session</strong> (<em>str</em>) – session name</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Pandas DataFrame</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><cite>pandas.DataFrame</cite></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2019, Jessica Bobeck, Katherine Anderson Aur.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.9.<br/>
    </p>
  </div>
</footer>
  </body>
</html>