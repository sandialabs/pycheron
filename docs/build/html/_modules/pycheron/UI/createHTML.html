<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>pycheron.UI.createHTML &#8212; Pycheron 2.1.0 documentation</title>
    <link rel="stylesheet" href="../../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../../../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../../../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../../../_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../../index.html"><span><img src="../../../_static/horse-128.png"></span>
          Pycheron</a>
        <span class="navbar-text navbar-version pull-left"><b>2.1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../../../install.html">Install</a></li>
                <li><a href="../../../pycheron.html">Documentation</a></li>
                <li><a href="https://gitlab.sandia.gov/lynm/pycheron">Gitlab</a></li>
                <li><a href="tutorials">Tutorials</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../../index.html">Documentation <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"></ul>
</li>
              
            
            
              
                
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <h1>Source code for pycheron.UI.createHTML</h1><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">__future__</span> <span class="k">import</span> <span class="n">division</span><span class="p">,</span> <span class="n">absolute_import</span><span class="p">,</span> <span class="n">print_function</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">author: kaaur</span>
<span class="sd">date: 11.15.18</span>
<span class="sd">version: v0.0</span>
<span class="sd">modified: N/A</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">shutil</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">fnmatch</span>

<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;create_main_html&#39;</span><span class="p">,</span> <span class="s1">&#39;create_PSDPDFs_html&#39;</span><span class="p">,</span> <span class="s1">&#39;create_ranking_htmls&#39;</span><span class="p">,</span> <span class="s1">&#39;create_mainSNR_htmls&#39;</span><span class="p">,</span>
           <span class="s1">&#39;create_mainSOH_htmls&#39;</span><span class="p">,</span> <span class="s1">&#39;create_mainbasicStats_htmls&#39;</span><span class="p">,</span> <span class="s1">&#39;create_mainCC_htmls&#39;</span><span class="p">,</span> <span class="s1">&#39;create_colorgrid_htmls&#39;</span><span class="p">,</span>
           <span class="s1">&#39;create_corr_htmls&#39;</span><span class="p">,</span> <span class="s1">&#39;create_dcOffsets_htmls&#39;</span><span class="p">,</span> <span class="s1">&#39;create_gap_htmls&#39;</span><span class="p">,</span> <span class="s1">&#39;create_repAmps_htmls&#39;</span><span class="p">,</span>
           <span class="s1">&#39;create_spikes_htmls&#39;</span><span class="p">,</span> <span class="s1">&#39;create_stalta_htmls&#39;</span><span class="p">,</span> <span class="s1">&#39;create_subgap_page_htmls&#39;</span><span class="p">,</span> <span class="s1">&#39;create_subspike_page_htmls&#39;</span><span class="p">,</span>
           <span class="s1">&#39;create_subdcOffset_page_htmls&#39;</span><span class="p">,</span> <span class="s1">&#39;create_subcrosscorr_page_htmls&#39;</span><span class="p">,</span> <span class="s1">&#39;create_subcorr_page_htmls&#39;</span><span class="p">,</span>
           <span class="s1">&#39;create_subSOH_page_htmls&#39;</span><span class="p">,</span> <span class="s1">&#39;create_substaGap_page_htmls&#39;</span><span class="p">,</span> <span class="s1">&#39;create_subrepAmps_page_htmls&#39;</span><span class="p">,</span>
           <span class="s1">&#39;create_subSNR_page_htmls&#39;</span><span class="p">,</span> <span class="s1">&#39;create_substalta_page_htmls&#39;</span><span class="p">]</span>


<div class="viewcode-block" id="create_main_html"><a class="viewcode-back" href="../../../pycheron.UI.html#pycheron.UI.createHTML.create_main_html">[docs]</a><span class="k">def</span> <span class="nf">create_main_html</span><span class="p">(</span><span class="n">dirpath</span><span class="p">,</span> <span class="n">pycherondir</span><span class="p">,</span> <span class="n">outpath</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates main html page with QC summary information</span>

<span class="sd">    :param dirpath (str) - directory path where Pycheron output was written, should be for a specific network</span>

<span class="sd">    :param pycherondir (st) - directory path where Pycheron lives</span>

<span class="sd">    :return: qc.html file in directory executing the script</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Open file to write output to</span>
    <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">outpath</span> <span class="o">+</span> <span class="s1">&#39;/qc.html&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

    <span class="c1"># Create the header information for the main html page</span>
    <span class="n">header_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">    &lt;html&gt;</span>
<span class="s2">    &lt;head&gt;</span>
<span class="s2">        &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">        &lt;title&gt; Pycheron Quality Control Summary &lt;/title&gt;</span>
<span class="s2">        &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">        &lt;link href=&quot;css/jquery.dataTables.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">        &lt;!-- load jQuery and dataTables scripts --&gt;</span>
<span class="s2">        &lt;script type=&quot;text/javascript&quot; src=&quot;js/jquery-3.3.1.js&quot;&gt;&lt;/script&gt;</span>
<span class="s2">        &lt;script type=&quot;text/javascript&quot; src=&quot;js/jquery.dataTables.js&quot;&gt;&lt;/script&gt;</span>
<span class="s2">        &lt;script type=&quot;text/javascript&quot; src=&quot;js/test.js&quot;&gt;&lt;/script&gt;</span>
<span class="s2">    &lt;/head&gt;</span>
<span class="s2">    &lt;body&gt;</span>
<span class="s2">         &lt;div id = &quot;wrapper&quot;&gt;</span>
<span class="s2">             &lt;h1&gt; Pycheron Quality Control Summary &lt;/h1&gt;</span>
<span class="s2">             &lt;div style=&quot;text-align: left;&quot;&gt;</span>
<span class="s2">             &lt;table id=&quot;dataIndex&quot; class=&quot;display&quot; cellspacing=&quot;0&quot; width=&quot;100%&quot;&gt;</span>
<span class="s2">         &lt;thead&gt;</span>
<span class="s2">            &lt;tr&gt;</span>
<span class="s2">                &lt;th&gt;Net&lt;/th&gt;</span>
<span class="s2">                &lt;th&gt;Sta&lt;/th&gt;</span>
<span class="s2">                &lt;th&gt;Metadata&lt;/th&gt;</span>
<span class="s2">                &lt;th&gt;PSD/PDFs&lt;/th&gt;</span>
<span class="s2">                &lt;th&gt;ColorGrid/Timelines&lt;/th&gt;</span>
<span class="s2">                &lt;th&gt;BasicStats&lt;/th&gt;</span>
<span class="s2">                &lt;th&gt;Gaps/Overlaps&lt;/th&gt;</span>
<span class="s2">                &lt;th&gt;Spikes&lt;/th&gt;</span>
<span class="s2">                &lt;th&gt;DCOffset&lt;/th&gt;</span>
<span class="s2">                &lt;th&gt;RepeatedAmps&lt;/th&gt;</span>
<span class="s2">                &lt;th&gt;SNR&lt;/th&gt;</span>
<span class="s2">                &lt;th&gt;STALTA&lt;/th&gt;</span>
<span class="s2">                &lt;th&gt;CrossCorr&lt;/th&gt;</span>
<span class="s2">                &lt;th&gt;Corr&lt;/th&gt;</span>
<span class="s2">                &lt;th&gt;SOHMetric&lt;/th&gt;</span>
<span class="s2">                &lt;th&gt;Calibrations&lt;/th&gt;</span>
<span class="s2">            &lt;/tr&gt;</span>
<span class="s2">        &lt;/thead&gt;</span>
<span class="s2">        &lt;tfoot&gt;</span>
<span class="s2">            &lt;tr&gt;</span>
<span class="s2">                &lt;th&gt;Net&lt;/th&gt;</span>
<span class="s2">                &lt;th&gt;Sta&lt;/th&gt;</span>
<span class="s2">                &lt;th&gt;Metadata&lt;/th&gt;</span>
<span class="s2">                &lt;th&gt;PSD/PDFs&lt;/th&gt;</span>
<span class="s2">                &lt;th&gt;ColorGrid/Timelines&lt;/th&gt;</span>
<span class="s2">                &lt;th&gt;BasicStats&lt;/th&gt;</span>
<span class="s2">                &lt;th&gt;Gaps/Overlaps&lt;/th&gt;</span>
<span class="s2">                &lt;th&gt;Spikes&lt;/th&gt;</span>
<span class="s2">                &lt;th&gt;DCOffset&lt;/th&gt;</span>
<span class="s2">                &lt;th&gt;RepeatedAmps&lt;/th&gt;</span>
<span class="s2">                &lt;th&gt;SNR&lt;/th&gt;</span>
<span class="s2">                &lt;th&gt;STALTA&lt;/th&gt;</span>
<span class="s2">                &lt;th&gt;CrossCorr&lt;/th&gt;</span>
<span class="s2">                &lt;th&gt;Corr&lt;/th&gt;</span>
<span class="s2">                &lt;th&gt;SOHMetric&lt;/th&gt;</span>
<span class="s2">                &lt;th&gt;Calibrations&lt;/th&gt;</span>
<span class="s2">            &lt;/tr&gt;</span>
<span class="s2">        &lt;/tfoot&gt;</span>
<span class="s2">        &lt;tbody&gt;     </span>
<span class="s2">    &quot;&quot;&quot;</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">header_body</span><span class="p">)</span>

    <span class="c1"># Obtain network name from dirpath, then grab out list of stations processed</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">dirpath</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">stalist</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># If css, js, images directories exist in current directory</span>
    <span class="k">if</span> <span class="s1">&#39;css&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;css&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;js&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;js&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;images&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">)</span>

    <span class="c1"># Add appropriate CSS, JS, and images directories to the directory path so they are available when</span>
    <span class="c1"># creating the main html page</span>
    <span class="n">css_dir</span> <span class="o">=</span> <span class="n">pycherondir</span> <span class="o">+</span> <span class="s1">&#39;/css&#39;</span>
    <span class="n">js_dir</span> <span class="o">=</span> <span class="n">pycherondir</span> <span class="o">+</span> <span class="s1">&#39;/js&#39;</span>
    <span class="n">images_dir</span> <span class="o">=</span> <span class="n">pycherondir</span> <span class="o">+</span> <span class="s1">&#39;/images&#39;</span>

    <span class="c1"># Move above directories to dirpath</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">outpath</span> <span class="o">+</span> <span class="s1">&#39;/css&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">copytree</span><span class="p">(</span><span class="n">css_dir</span><span class="p">,</span> <span class="n">outpath</span> <span class="o">+</span> <span class="s1">&#39;/css&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">outpath</span> <span class="o">+</span> <span class="s1">&#39;/js&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">copytree</span><span class="p">(</span><span class="n">js_dir</span><span class="p">,</span> <span class="n">outpath</span> <span class="o">+</span> <span class="s1">&#39;/js&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">outpath</span> <span class="o">+</span> <span class="s1">&#39;/images&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">copytree</span><span class="p">(</span><span class="n">images_dir</span><span class="p">,</span> <span class="n">outpath</span> <span class="o">+</span> <span class="s1">&#39;/images&#39;</span><span class="p">)</span>

    <span class="c1"># Loop through stalist and create main body of table for html page</span>
    <span class="k">for</span> <span class="n">sta</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">sta</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">main_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;        &lt;tr&gt;</span>
<span class="s2">                &lt;td&gt;</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                &lt;td&gt;</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                &lt;td&gt;&lt;a href=&quot;http://www.ds.iris.edu/mda/</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">&quot;&gt;MDA&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;td&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-PSDPDFs.html&quot;&gt;PSDPDFs&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;td&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-colorgrids.html&quot;&gt;Power plots&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;td&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-basicstats.html&quot;&gt;BasicStats&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;td&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-gaps.html&quot;&gt;Gaps&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;td&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-spikes.html&quot;&gt;Spikes&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;td&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-dcOffset.html&quot;&gt;DCOffset&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;td&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-repAmps.html&quot;&gt;RepAmps&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;td&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-SNR.html&quot;&gt;SNR&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;td&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-stalta.html&quot;&gt;STALTA&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;td&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-CC.html&quot;&gt;CrossCorr&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;td&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-corr.html&quot;&gt;Corr&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;td&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-SOH.html&quot;&gt;SOH&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;td&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-calib.html&quot;&gt;Calib&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">            &lt;/tr&gt;        </span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">main_body</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">main_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;tr&gt;</span>
<span class="s2">                &lt;td&gt;</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                &lt;td&gt;</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                &lt;td&gt;&lt;a href=&quot;http://www.ds.iris.edu/mda/</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">&quot;&gt;MDA&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;td&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-PSDPDFs.html&quot;&gt;PSDPDFs&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;td&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-colorgrids.html&quot;&gt;Power plots&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;td&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-basicstats.html&quot;&gt;BasicStats&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;td&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-gaps.html&quot;&gt;Gaps&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;td&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-spikes.html&quot;&gt;Spikes&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;td&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-dcOffset.html&quot;&gt;DCOffset&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;td&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-repAmps.html&quot;&gt;RepAmps&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;td&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-SNR.html&quot;&gt;SNR&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;td&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-stalta.html&quot;&gt;STALTA&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;td&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-CC.html&quot;&gt;CrossCorr&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;td&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-corr.html&quot;&gt;Corr&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;td&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-SOH.html&quot;&gt;SOH&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;td&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-calib.html&quot;&gt;Calib&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">            &lt;/tr&gt;        </span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">main_body</span><span class="p">)</span>

    <span class="c1"># Create end of html body</span>
    <span class="n">end_html</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;/tbody&gt;</span>
<span class="s2">           &lt;/table&gt;</span>
<span class="s2">            &lt;p style=&quot;text-align:left&quot;&gt;&lt;a href=&quot;ranking.html&quot;&gt;Network Ranking plots&lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">           &lt;/div&gt;</span>
<span class="s2">        &lt;/body&gt;</span>
<span class="s2">    &lt;/html&gt;</span>
<span class="s2">    &quot;&quot;&quot;</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">end_html</span><span class="p">)</span>
    <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">return</span></div>


<div class="viewcode-block" id="create_PSDPDFs_html"><a class="viewcode-back" href="../../../pycheron.UI.html#pycheron.UI.createHTML.create_PSDPDFs_html">[docs]</a><span class="k">def</span> <span class="nf">create_PSDPDFs_html</span><span class="p">(</span><span class="n">dirpath</span><span class="p">,</span> <span class="n">mo_yr</span><span class="p">,</span> <span class="n">outpath</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates PSDPDFs html pages for each station within a given network</span>

<span class="sd">    :param dirpath (str) - directory path where Pycheron output was written, should be for a specific network</span>

<span class="sd">    :param mo_yr (str) - month-year or week-year that PSDs were run for</span>

<span class="sd">    :return: returns $sta-PSDPDFs.html for each station in the current working directory</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Obtain network name from dirpath, then grab out list of stations processed</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">dirpath</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">stalist</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># If css, js, images directories exist in current directory</span>
    <span class="k">if</span> <span class="s1">&#39;css&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;css&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;js&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;js&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;images&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">)</span>

    <span class="c1"># Loop through stations and create html</span>
    <span class="k">for</span> <span class="n">sta</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)):</span>

        <span class="c1"># Create a new dirpath based on station directory so we know which chans exist for that station</span>
        <span class="n">new_dirpath</span> <span class="o">=</span> <span class="n">dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">]</span>

        <span class="c1"># Get the list of chans for the station, if PSDS directory in the list (which will be for any station that had</span>
        <span class="c1"># PSDs run) then remove that item from the list</span>
        <span class="n">chans</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">new_dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">if</span> <span class="s1">&#39;PSDS&#39;</span> <span class="ow">in</span> <span class="n">chans</span><span class="p">:</span>
            <span class="n">chans</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;PSDS&#39;</span><span class="p">)</span>

        <span class="c1"># Create station specific html name for PSDS</span>
        <span class="n">html_fname</span> <span class="o">=</span> <span class="n">outpath</span><span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">-PSDPDFs.html&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

        <span class="c1"># Open the file</span>
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">html_fname</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

        <span class="c1"># Loop through chans to get uniq list of chans</span>
        <span class="c1"># First create empty list</span>
        <span class="n">chan_uniq</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">chan</span> <span class="ow">in</span> <span class="n">chans</span><span class="p">:</span>
            <span class="n">chan_uniq</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">chan</span><span class="p">[:</span><span class="mi">2</span><span class="p">])</span>

        <span class="c1"># Only save unique list</span>
        <span class="n">chans</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">chan_uniq</span><span class="p">)</span>

        <span class="c1"># If we are on the first station, we need left arrow to point to the last station name</span>
        <span class="k">if</span> <span class="n">sta</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">psdpdf_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">        &lt;html&gt;</span>
<span class="s2">            &lt;head&gt;</span>
<span class="s2">                &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">                &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">                &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> PSDs/PSD PDFs &lt;/title&gt;</span>
<span class="s2">                &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">                &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">            &lt;/head&gt;</span>
<span class="s2">            &lt;body&gt;</span>
<span class="s2">                &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">                    &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">                         &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-PSDPDFs.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                         &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                         &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-PSDPDFs.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                    &lt;/tr&gt;</span>
<span class="s2">                &lt;/table&gt;</span>
<span class="s2">                &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;ranking.html&quot;&gt;Network Ranking Plots&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-colorgrids.html&quot;&gt;Color Grid noise levels differenced from the GSN Low Noise Model&lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">                &lt;!-- PDF Viewer table  --&gt;</span>
<span class="s2">                &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">                    &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Month Year&lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; PSDs &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; PDFs &lt;/td&gt;&lt;/tr&gt;</span>
<span class="s2">                    &lt;tr&gt;&lt;td bgcolor=&quot;#B3B6B7&quot;&gt; &lt;FONT SIZE=16&gt; </span><span class="si">{}</span><span class="s2"> &lt;/td&gt;</span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">mo_yr</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">psdpdf_body</span><span class="p">)</span>

        <span class="c1"># If we are not the first or the last, we can pick sta + 1 or sta - 1 for the arrows, so we are fine</span>
        <span class="k">elif</span> <span class="n">sta</span> <span class="o">!=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="n">sta</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">psdpdf_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">        &lt;html&gt;</span>
<span class="s2">            &lt;head&gt;</span>
<span class="s2">                &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">                &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">                &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> PSDs/PSD PDFs &lt;/title&gt;</span>
<span class="s2">                &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">                &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">            &lt;/head&gt;</span>
<span class="s2">            &lt;body&gt;</span>
<span class="s2">                &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">                    &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">                         &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-PSDPDFs.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                         &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                         &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-PSDPDFs.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                    &lt;/tr&gt;</span>
<span class="s2">                &lt;/table&gt;</span>
<span class="s2">                &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;ranking.html&quot;&gt;Network Ranking Plots&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-colorgrids.html&quot;&gt;Color Grid noise levels differenced from the GSN Low Noise Model&lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">                &lt;!-- PDF Viewer table  --&gt;</span>
<span class="s2">                &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">                    &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Month Year&lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; PSDs &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; PDFs &lt;/td&gt;&lt;/tr&gt;</span>
<span class="s2">                    &lt;tr&gt;&lt;td bgcolor=&quot;#B3B6B7&quot;&gt; &lt;FONT SIZE=16&gt; </span><span class="si">{}</span><span class="s2"> &lt;/td&gt;</span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span>
                       <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">mo_yr</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">psdpdf_body</span><span class="p">)</span>

        <span class="c1"># If we are the last station in the list, then we need the left arrow to point to the first station in the list</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">psdpdf_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">        &lt;html&gt;</span>
<span class="s2">            &lt;head&gt;</span>
<span class="s2">                &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">                &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">                &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> PSDs/PSD PDFs &lt;/title&gt;</span>
<span class="s2">                &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">                &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">            &lt;/head&gt;</span>
<span class="s2">            &lt;body&gt;</span>
<span class="s2">                &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">                    &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">                        &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-PSDPDFs.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                        &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                        &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-PSDPDFs.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                    &lt;/tr&gt;</span>
<span class="s2">                &lt;/table&gt;</span>
<span class="s2">                &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;ranking.html&quot;&gt;Network Ranking Plots&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-colorgrids.html&quot;&gt;Color Grid noise levels differenced from the GSN Low Noise Model&lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">                &lt;!-- PDF Viewer table  --&gt;</span>
<span class="s2">                &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">                    &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Month Year&lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; PSDs &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; PDFs &lt;/td&gt;&lt;/tr&gt;</span>
<span class="s2">                    &lt;tr&gt;&lt;td bgcolor=&quot;#B3B6B7&quot;&gt; &lt;FONT SIZE=16&gt; </span><span class="si">{}</span><span class="s2"> &lt;/td&gt;</span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">mo_yr</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">psdpdf_body</span><span class="p">)</span>

        <span class="c1"># Loop for chans for the station and write out the table</span>
        <span class="k">for</span> <span class="n">chan</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">chans</span><span class="p">)):</span>
            <span class="n">chan_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;            &lt;td&gt;&lt;a HREF=&quot;</span><span class="si">{}</span><span class="s2">/psdPlot_</span><span class="si">{}</span><span class="s2">_1.png&quot;&gt;                 &lt;center&gt;&lt;img src=&quot;</span><span class="si">{}</span><span class="s2">/psdPlot_</span><span class="si">{}</span><span class="s2">_1.png&quot;                      width=1200 height=1200 border=0&gt;&lt;/a&gt;&lt;/td&gt;&lt;/center&gt;</span>
<span class="s2">                        &lt;td&gt;&lt;a HREF=&quot;</span><span class="si">{}</span><span class="s2">/pdfPlot_</span><span class="si">{}</span><span class="s2">_1.png&quot;&gt;                 &lt;center&gt;&lt;img src=&quot;</span><span class="si">{}</span><span class="s2">/pdfPlot_</span><span class="si">{}</span><span class="s2">_1.png&quot;                      width=1200 height=1200 border=0&gt;&lt;/a&gt;&lt;/td&gt;&lt;/center&gt;</span>
<span class="s2">                    &lt;/tr&gt;</span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">new_dirpath</span><span class="p">,</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">],</span> <span class="n">new_dirpath</span><span class="p">,</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">],</span> <span class="n">new_dirpath</span><span class="p">,</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">],</span> <span class="n">new_dirpath</span><span class="p">,</span>
                       <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">])</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chan_body</span><span class="p">)</span>

        <span class="c1"># Write the end lines of the html</span>
        <span class="n">end_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;    &lt;/table&gt;</span>
<span class="s2">            &lt;/body&gt;</span>
<span class="s2">        &lt;/html&gt;&quot;&quot;&quot;</span>

        <span class="n">end_body</span> <span class="o">=</span> <span class="n">end_body</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">end_body</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">return</span></div>


<div class="viewcode-block" id="create_ranking_htmls"><a class="viewcode-back" href="../../../pycheron.UI.html#pycheron.UI.createHTML.create_ranking_htmls">[docs]</a><span class="k">def</span> <span class="nf">create_ranking_htmls</span><span class="p">(</span><span class="n">dirpath</span><span class="p">,</span> <span class="n">rank_list</span><span class="p">,</span> <span class="n">outpath</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates ranking html page for a network</span>

<span class="sd">    :param dirpath (str) - directory path where Pycheron output was written, should be for a specific network</span>

<span class="sd">    :param rank_list (list) - list of</span>

<span class="sd">    :return: returns ranking.html for a network in the current working directory</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Obtain network name from dirpath, then grab out list of stations processed</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">dirpath</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># Create ranking html name</span>
    <span class="n">html_fname</span> <span class="o">=</span> <span class="n">outpath</span><span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="s1">&#39;ranking.html&#39;</span>

    <span class="c1"># Open the file</span>
    <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">html_fname</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

    <span class="c1"># Main body</span>
    <span class="n">main_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">    &lt;html&gt;</span>
<span class="s2">        &lt;head&gt;</span>
<span class="s2">            &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">            &lt;title&gt; </span><span class="si">{}</span><span class="s2"> Ranking Plots &lt;/title&gt;</span>
<span class="s2">            &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">            &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">        &lt;/head&gt;</span>
<span class="s2">        &lt;body&gt;</span>
<span class="s2">            &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">                     &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;UU&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;/tr&gt;</span>
<span class="s2">            &lt;/table&gt;</span>
<span class="s2">            &lt;!-- PDF Viewer table  --&gt;</span>
<span class="s2">            &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;</span>
<span class="s2">                    &lt;td&gt;&lt;FONT SIZE=16&gt; Ranking &lt;/td&gt;</span>
<span class="s2">        &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">)</span>

    <span class="c1"># Write the output to the file</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">main_body</span><span class="p">)</span>

    <span class="c1"># Cycle through the channels for the network based on the PNG files that were output</span>
    <span class="c1"># Create empty channel list to append to</span>
    <span class="n">chans</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># Loop through file directory structure and split the files on the first underscore delimiter so we can unique them</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">dirpath</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">fnmatch</span><span class="o">.</span><span class="n">fnmatch</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s1">&#39;rankingPlot*&#39;</span><span class="p">):</span>
            <span class="n">file</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">chans</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>

    <span class="c1"># Grab out uniq chan file names</span>
    <span class="n">chans</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">chans</span><span class="p">)</span>

    <span class="c1"># Set up empty chan_uniq list to append to, to get the final list of unique chan names</span>
    <span class="n">chan_uniq</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># Loop through chan list and grab out channels</span>
    <span class="k">for</span> <span class="n">chan</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">chans</span><span class="p">)):</span>
        <span class="n">chan_uniq</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">][</span><span class="mi">11</span><span class="p">:])</span>

    <span class="c1"># Loop through channels and populate channel names</span>
    <span class="k">for</span> <span class="n">chan</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">chan_uniq</span><span class="p">)):</span>
        <span class="n">chan_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;            &lt;td&gt; &lt;FONT SIZE=16&gt; </span><span class="si">{}</span><span class="s2"> &lt;/td&gt;</span>
<span class="s2">        &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">chan_uniq</span><span class="p">[</span><span class="n">chan</span><span class="p">])</span>

        <span class="c1"># Write output to file</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chan_body</span><span class="p">)</span>

    <span class="c1"># Write end tr for table</span>
    <span class="n">tr_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;            &lt;/tr&gt;</span>
<span class="s2">        &quot;&quot;&quot;</span>

    <span class="c1"># Write output</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">tr_body</span><span class="p">)</span>

    <span class="c1"># Cycle through ranking and chans to print out rank table body</span>
    <span class="k">for</span> <span class="n">rank</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">rank_list</span><span class="p">)):</span>
        <span class="n">rank_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;            &lt;tr&gt;&lt;td bgcolor=&quot;#B3B6B7&quot;&gt; &lt;FONT SIZE=16&gt; </span><span class="si">{}</span><span class="s2">s &lt;/td&gt;</span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">rank_list</span><span class="p">[</span><span class="n">rank</span><span class="p">])</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">rank_body</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">chans</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">chan_uniq</span><span class="p">)):</span>
            <span class="n">table_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;            &lt;td&gt;&lt;a HREF=&quot;rankingPlot</span><span class="si">{}</span><span class="s2">_</span><span class="si">{}</span><span class="s2">_</span><span class="si">{}</span><span class="s2">.png&quot;&gt;                 &lt;center&gt;&lt;img src=&quot;rankingPlot</span><span class="si">{}</span><span class="s2">_</span><span class="si">{}</span><span class="s2">_</span><span class="si">{}</span><span class="s2">.png&quot;                      width=1200 height=1200 border=0&gt;&lt;/a&gt;&lt;/td&gt;&lt;/center&gt;</span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">chan_uniq</span><span class="p">[</span><span class="n">chans</span><span class="p">],</span> <span class="n">rank_list</span><span class="p">[</span><span class="n">rank</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">chan_uniq</span><span class="p">[</span><span class="n">chans</span><span class="p">],</span> <span class="n">rank_list</span><span class="p">[</span><span class="n">rank</span><span class="p">],</span> <span class="n">net</span><span class="p">)</span>

            <span class="c1"># Write output to file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">table_body</span><span class="p">)</span>

        <span class="c1"># Write closing tr for table</span>
        <span class="n">tr_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;        &lt;/tr&gt;</span>
<span class="s2">        &quot;&quot;&quot;</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">tr_body</span><span class="p">)</span>

    <span class="c1"># Write end body, then write to file</span>
    <span class="n">end_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;    &lt;/table&gt;</span>
<span class="s2">        &lt;/body&gt;</span>
<span class="s2">    &lt;/html&gt;</span>
<span class="s2">    &quot;&quot;&quot;</span>

    <span class="c1"># Write output to file, close file</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">end_body</span><span class="p">)</span>
    <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">return</span></div>


<div class="viewcode-block" id="create_mainSNR_htmls"><a class="viewcode-back" href="../../../pycheron.UI.html#pycheron.UI.createHTML.create_mainSNR_htmls">[docs]</a><span class="k">def</span> <span class="nf">create_mainSNR_htmls</span><span class="p">(</span><span class="n">dirpath</span><span class="p">,</span> <span class="n">outpath</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates SNR html pages for each station within a given network</span>

<span class="sd">    :param dirpath (str) - directory path where Pycheron output was written, should be for a specific network</span>

<span class="sd">    :return: returns $sta-SNR.html for each station in the current working directory</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Obtain network name from dirpath, then grab out list of stations processed</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">dirpath</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">stalist</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># If css, js, images directories exist in current directory</span>
    <span class="k">if</span> <span class="s1">&#39;css&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;css&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;js&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;js&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;images&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">)</span>

    <span class="c1"># Loop through stations and create html</span>
    <span class="k">for</span> <span class="n">sta</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)):</span>

        <span class="c1"># Create a new dirpath based on station directory so we know which chans exist for that station</span>
        <span class="n">new_dirpath</span> <span class="o">=</span> <span class="n">dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">]</span>

        <span class="c1"># Get the list of chans for the station, if PSDS directory in the list (which will be for any station that had</span>
        <span class="c1"># PSDs run) then remove that item from the list</span>
        <span class="n">chans</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">new_dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="s1">&#39;PSDS&#39;</span> <span class="ow">in</span> <span class="n">chans</span><span class="p">:</span>
            <span class="n">chans</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;PSDS&#39;</span><span class="p">)</span>

        <span class="c1"># Create station specific html name for PSDS</span>
        <span class="n">html_fname</span> <span class="o">=</span> <span class="n">outpath</span><span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">-SNR.html&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

        <span class="c1"># Open the file</span>
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">html_fname</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

        <span class="c1"># Write html files</span>
        <span class="c1"># If first station in the list we need left arrow to grab the last station name, then write snr_body to file</span>
        <span class="k">if</span> <span class="n">sta</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">snr_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">        &lt;html&gt;</span>
<span class="s2">        &lt;head&gt;</span>
<span class="s2">        &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">        &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> SNR Metric &lt;/title&gt;</span>
<span class="s2">        &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">        &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">        &lt;/head&gt;</span>
<span class="s2">        &lt;body&gt;</span>
<span class="s2">        &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">            &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">                &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-SNR.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-SNR.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">            &lt;/tr&gt;</span>
<span class="s2">        &lt;/table&gt;</span>
<span class="s2">        &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-repAmps.html&quot;&gt;Repeated Amps&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-stalta.html&quot;&gt;STA/LTA &lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">        &lt;!-- SNR Viewer table  --&gt;</span>
<span class="s2">        &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">            &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Channel &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; SNR Table &lt;/td&gt;</span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">snr_body</span><span class="p">)</span>

        <span class="c1"># If we are not the first or the last, we can pick sta + 1 or sta - 1 for the arrows, so we are fine</span>
        <span class="k">elif</span> <span class="n">sta</span> <span class="o">!=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="n">sta</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">snr_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">        &lt;html&gt;</span>
<span class="s2">        &lt;head&gt;</span>
<span class="s2">        &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">        &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> SNR Metric &lt;/title&gt;</span>
<span class="s2">        &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">        &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">        &lt;/head&gt;</span>
<span class="s2">        &lt;body&gt;</span>
<span class="s2">        &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">            &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">                &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-SNR.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-SNR.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">            &lt;/tr&gt;</span>
<span class="s2">        &lt;/table&gt;</span>
<span class="s2">        &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-repAmps.html&quot;&gt;Repeated Amps&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-stalta.html&quot;&gt;STA/LTA &lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">        &lt;!-- SNR Viewer table  --&gt;</span>
<span class="s2">        &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">            &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Channel &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; SNR Table &lt;/td&gt;</span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">snr_body</span><span class="p">)</span>

        <span class="c1"># If we are the last station in the list, then we need the left arrow to point to the first station in the list</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">snr_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">        &lt;html&gt;</span>
<span class="s2">        &lt;head&gt;</span>
<span class="s2">        &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">        &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> SNR Metric &lt;/title&gt;</span>
<span class="s2">        &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">        &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">        &lt;/head&gt;</span>
<span class="s2">        &lt;body&gt;</span>
<span class="s2">        &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">            &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">                &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-SNR.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-SNR.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">            &lt;/tr&gt;</span>
<span class="s2">        &lt;/table&gt;</span>
<span class="s2">        &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-repAmps.html&quot;&gt;Repeated Amps&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-stalta.html&quot;&gt;STA/LTA &lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">        &lt;!-- SNR Viewer table  --&gt;</span>
<span class="s2">        &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">            &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Channel &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; SNR Table &lt;/td&gt;</span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">snr_body</span><span class="p">)</span>

        <span class="c1"># Loop for chans for the station and write out the table</span>
        <span class="k">for</span> <span class="n">chan</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">chans</span><span class="p">)):</span>
            <span class="n">chan_dirpath</span> <span class="o">=</span> <span class="n">new_dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">]</span>
            <span class="n">chan_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;    &lt;tr&gt;&lt;td bgcolor=&quot;#B3B6B7&quot;&gt; &lt;FONT SIZE=16&gt; </span><span class="si">{}</span><span class="s2"> &lt;/td&gt;</span>
<span class="s2">                &lt;td&gt;&lt;a target = &quot;_parent&quot; href=&quot;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">_</span><span class="si">{}</span><span class="s2">_snrTable.html&quot; &gt; </span><span class="si">{}</span><span class="s2">_SNRTable &lt;/a&gt;</span>
<span class="s2">                &lt;/tr&gt;</span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">],</span> <span class="n">chan_dirpath</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">],</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">])</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chan_body</span><span class="p">)</span>

        <span class="c1"># Write the end lines of the html</span>
        <span class="n">end_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;/table&gt;</span>
<span class="s2">        &lt;/body&gt;</span>
<span class="s2">    &lt;/html&gt;</span>
<span class="s2">        &quot;&quot;&quot;</span>
        <span class="n">end_body</span> <span class="o">=</span> <span class="n">end_body</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">end_body</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">return</span></div>


<div class="viewcode-block" id="create_mainSOH_htmls"><a class="viewcode-back" href="../../../pycheron.UI.html#pycheron.UI.createHTML.create_mainSOH_htmls">[docs]</a><span class="k">def</span> <span class="nf">create_mainSOH_htmls</span><span class="p">(</span><span class="n">dirpath</span><span class="p">,</span> <span class="n">outpath</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates SOH html pages for each station within a given network</span>

<span class="sd">    :param dirpath (str) - directory path where Pycheron output was written, should be for a specific network</span>

<span class="sd">    :return: returns $sta-SOH.html for each station in the current working directory</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Obtain network name from dirpath, then grab out list of stations processed</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">dirpath</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">stalist</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># If css, js, images directories exist in current directory</span>
    <span class="k">if</span> <span class="s1">&#39;css&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;css&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;js&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;js&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;images&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">)</span>

    <span class="c1"># Loop through stations and create html</span>
    <span class="k">for</span> <span class="n">sta</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)):</span>

        <span class="c1"># Create a new dirpath based on station directory so we know which chans exist for that station</span>
        <span class="n">new_dirpath</span> <span class="o">=</span> <span class="n">dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">]</span>

        <span class="c1"># Get the list of chans for the station, if PSDS directory in the list (which will be for any station that had</span>
        <span class="c1"># PSDs run) then remove that item from the list</span>
        <span class="n">chans</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">new_dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="s1">&#39;PSDS&#39;</span> <span class="ow">in</span> <span class="n">chans</span><span class="p">:</span>
            <span class="n">chans</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;PSDS&#39;</span><span class="p">)</span>

        <span class="c1"># Create station specific html name for SOH</span>
        <span class="n">html_fname</span> <span class="o">=</span> <span class="n">outpath</span><span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">-SOH.html&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

        <span class="c1"># Open the file</span>
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">html_fname</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

        <span class="c1"># Write html files</span>
        <span class="c1"># If first station in the list we need left arrow to grab the last station name, then write soh_body to file</span>
        <span class="k">if</span> <span class="n">sta</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">soh_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">&lt;html&gt;</span>
<span class="s2">   &lt;head&gt;</span>
<span class="s2">       &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">       &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">       &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> SOH Metric &lt;/title&gt;</span>
<span class="s2">       &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">       &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">   &lt;/head&gt;</span>
<span class="s2">   &lt;body&gt;</span>
<span class="s2">       &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">           &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">               &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-SOH.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">               &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">               &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-SOH.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">           &lt;/tr&gt;</span>
<span class="s2">       &lt;/table&gt;</span>
<span class="s2">       &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-corr.html&quot;&gt;Correlation&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-calib.html&quot;&gt; Calibration Metric &lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">       &lt;!-- PDF Viewer table  --&gt;</span>
<span class="s2">       &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">           &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Station &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; SOH Metric Table &lt;/td&gt;</span>
<span class="s2">           &lt;tr&gt;&lt;td bgcolor=&quot;#B3B6B7&quot;&gt; &lt;FONT SIZE=16&gt; </span><span class="si">{}</span><span class="s2"> &lt;/td&gt;</span>
<span class="s2">               &lt;td&gt;&lt;a target = &quot;_parent&quot; href=&quot;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">_SOHTable.html&quot; &gt; </span><span class="si">{}</span><span class="s2">_SOHTable &lt;/a&gt;</span>
<span class="s2">           &lt;/tr&gt;</span>
<span class="s2">       &lt;/table&gt;</span>
<span class="s2">   &lt;/body&gt;</span>
<span class="s2">&lt;/html&gt;</span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">new_dirpath</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

            <span class="c1"># Write output to file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">soh_body</span><span class="p">)</span>

        <span class="c1"># If we are not the first or the last, we can pick sta + 1 or sta - 1 for the arrows, so we are fine</span>
        <span class="k">elif</span> <span class="n">sta</span> <span class="o">!=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="n">sta</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">soh_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">&lt;html&gt;</span>
<span class="s2">   &lt;head&gt;</span>
<span class="s2">       &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">       &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">       &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> SOH Metric &lt;/title&gt;</span>
<span class="s2">       &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">       &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">   &lt;/head&gt;</span>
<span class="s2">   &lt;body&gt;</span>
<span class="s2">       &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">           &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">               &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-SOH.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">               &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">               &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-SOH.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">           &lt;/tr&gt;</span>
<span class="s2">       &lt;/table&gt;</span>
<span class="s2">       &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-corr.html&quot;&gt;Correlation&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-calib.html&quot;&gt; Calibration Metric &lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">       &lt;!-- PDF Viewer table  --&gt;</span>
<span class="s2">       &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">           &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Station &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; SOH Metric Table &lt;/td&gt;</span>
<span class="s2">           &lt;tr&gt;&lt;td bgcolor=&quot;#B3B6B7&quot;&gt; &lt;FONT SIZE=16&gt; </span><span class="si">{}</span><span class="s2"> &lt;/td&gt;</span>
<span class="s2">               &lt;td&gt;&lt;a target = &quot;_parent&quot; href=&quot;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">_SOHTable.html&quot; &gt; </span><span class="si">{}</span><span class="s2">_SOHTable &lt;/a&gt;</span>
<span class="s2">           &lt;/tr&gt;</span>
<span class="s2">       &lt;/table&gt;</span>
<span class="s2">   &lt;/body&gt;</span>
<span class="s2">&lt;/html&gt;</span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">new_dirpath</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

            <span class="c1"># Write output to file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">soh_body</span><span class="p">)</span>

        <span class="c1"># If we are the last station in the list, then we need the left arrow to point to the first station in the list</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">soh_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">&lt;html&gt;</span>
<span class="s2">   &lt;head&gt;</span>
<span class="s2">       &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">       &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">       &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> SOH Metric &lt;/title&gt;</span>
<span class="s2">       &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">       &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">   &lt;/head&gt;</span>
<span class="s2">   &lt;body&gt;</span>
<span class="s2">       &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">           &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">               &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-SOH.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">               &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">               &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-SOH.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">           &lt;/tr&gt;</span>
<span class="s2">       &lt;/table&gt;</span>
<span class="s2">       &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-corr.html&quot;&gt;Correlation&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-calib.html&quot;&gt; Calibration Metric &lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">       &lt;!-- PDF Viewer table  --&gt;</span>
<span class="s2">       &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">           &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Station &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; SOH Metric Table &lt;/td&gt;</span>
<span class="s2">           &lt;tr&gt;&lt;td bgcolor=&quot;#B3B6B7&quot;&gt; &lt;FONT SIZE=16&gt; </span><span class="si">{}</span><span class="s2"> &lt;/td&gt;</span>
<span class="s2">               &lt;td&gt;&lt;a target = &quot;_parent&quot; href=&quot;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">_SOHTable.html&quot; &gt; </span><span class="si">{}</span><span class="s2">_SOHTable &lt;/a&gt;</span>
<span class="s2">           &lt;/tr&gt;</span>
<span class="s2">       &lt;/table&gt;</span>
<span class="s2">   &lt;/body&gt;</span>
<span class="s2">&lt;/html&gt;</span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">new_dirpath</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

            <span class="c1"># Write output to file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">soh_body</span><span class="p">)</span>

        <span class="c1"># Close the file once finished writing</span>
        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">return</span></div>


<div class="viewcode-block" id="create_mainbasicStats_htmls"><a class="viewcode-back" href="../../../pycheron.UI.html#pycheron.UI.createHTML.create_mainbasicStats_htmls">[docs]</a><span class="k">def</span> <span class="nf">create_mainbasicStats_htmls</span><span class="p">(</span><span class="n">dirpath</span><span class="p">,</span> <span class="n">outpath</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates basicStats html pages for each station within a given network</span>

<span class="sd">    :param dirpath (str) - directory path where Pycheron output was written, should be for a specific network</span>

<span class="sd">    :return: returns $sta-basicStats.html for each station in the current working directory</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Obtain network name from dirpath, then grab out list of stations processed</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">dirpath</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">stalist</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># If css, js, images directories exist in current directory</span>
    <span class="k">if</span> <span class="s1">&#39;css&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;css&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;js&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;js&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;images&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">)</span>

    <span class="c1"># Loop through stations and create html</span>
    <span class="k">for</span> <span class="n">sta</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)):</span>

        <span class="c1"># Create a new dirpath based on station directory so we know which chans exist for that station</span>
        <span class="n">new_dirpath</span> <span class="o">=</span> <span class="n">dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">]</span>

        <span class="c1"># Get the list of chans for the station, if PSDS directory in the list (which will be for any station that had</span>
        <span class="c1"># PSDs run) then remove that item from the list</span>
        <span class="n">chans</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">new_dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="s1">&#39;PSDS&#39;</span> <span class="ow">in</span> <span class="n">chans</span><span class="p">:</span>
            <span class="n">chans</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;PSDS&#39;</span><span class="p">)</span>

        <span class="c1"># Create station specific html name for basicStats</span>
        <span class="n">html_fname</span> <span class="o">=</span> <span class="n">outpath</span><span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">-basicStats.html&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

        <span class="c1"># Open the file</span>
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">html_fname</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

        <span class="c1"># Write html files</span>
        <span class="c1"># If first station in the list we need left arrow to grab the last station name, then write basicStats_body to</span>
        <span class="c1"># file</span>
        <span class="k">if</span> <span class="n">sta</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">basicStats_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">    &lt;html&gt;</span>
<span class="s2">        &lt;head&gt;</span>
<span class="s2">            &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">            &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> Basic Stats Metrics &lt;/title&gt;</span>
<span class="s2">            &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">            &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">        &lt;/head&gt;</span>
<span class="s2">        &lt;body&gt;</span>
<span class="s2">            &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-basicstats.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-basicstats.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;/tr&gt;</span>
<span class="s2">            &lt;/table&gt;</span>
<span class="s2">            &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-colorgrids.html&quot;&gt;Colorgrid/Power Modes&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-gaps.html&quot;&gt; Gaps/Overlaps &lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">            &lt;!-- PDF Viewer table  --&gt;</span>
<span class="s2">            &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Channel &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; Basic Stats &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; Basic Stats Boxplots &lt;/td&gt;&lt;/tr&gt;</span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

            <span class="c1"># Write output to file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">basicStats_body</span><span class="p">)</span>

        <span class="c1"># If we are not the first or the last, we can pick sta + 1 or sta - 1 for the arrows, so we are fine</span>
        <span class="k">elif</span> <span class="n">sta</span> <span class="o">!=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="n">sta</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">basicStats_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">    &lt;html&gt;</span>
<span class="s2">        &lt;head&gt;</span>
<span class="s2">            &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">            &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> Basic Stats Metrics &lt;/title&gt;</span>
<span class="s2">            &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">            &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">        &lt;/head&gt;</span>
<span class="s2">        &lt;body&gt;</span>
<span class="s2">            &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-basicstats.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-basicstats.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;/tr&gt;</span>
<span class="s2">            &lt;/table&gt;</span>
<span class="s2">            &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-colorgrids.html&quot;&gt;Colorgrid/Power Modes&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-gaps.html&quot;&gt; Gaps/Overlaps &lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">            &lt;!-- PDF Viewer table  --&gt;</span>
<span class="s2">            &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Channel &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; Basic Stats &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; Basic Stats Boxplots &lt;/td&gt;&lt;/tr&gt;</span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

            <span class="c1"># Write output to file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">basicStats_body</span><span class="p">)</span>

        <span class="c1"># If we are the last station in the list, then we need the left arrow to point to the first station in the list</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">basicStats_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">    &lt;html&gt;</span>
<span class="s2">        &lt;head&gt;</span>
<span class="s2">            &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">            &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> Basic Stats Metrics &lt;/title&gt;</span>
<span class="s2">            &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">            &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">        &lt;/head&gt;</span>
<span class="s2">        &lt;body&gt;</span>
<span class="s2">            &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-basicstats.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-basicstats.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;/tr&gt;</span>
<span class="s2">            &lt;/table&gt;</span>
<span class="s2">            &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-colorgrids.html&quot;&gt;Colorgrid/Power Modes&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-gaps.html&quot;&gt; Gaps/Overlaps &lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">            &lt;!-- PDF Viewer table  --&gt;</span>
<span class="s2">            &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Channel &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; Basic Stats &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; Basic Stats Boxplots &lt;/td&gt;&lt;/tr&gt;</span>
<span class="s2">                    &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                               <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

            <span class="c1"># Write output to file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">basicStats_body</span><span class="p">)</span>

        <span class="c1"># Loop for chans for the station and write out the table</span>
        <span class="k">for</span> <span class="n">chan</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">chans</span><span class="p">)):</span>
            <span class="n">chan_dirpath</span> <span class="o">=</span> <span class="n">new_dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">]</span>
            <span class="n">chan_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;    &lt;tr&gt;&lt;td bgcolor=&quot;#B3B6B7&quot;&gt; &lt;FONT SIZE=16&gt; </span><span class="si">{}</span><span class="s2"> &lt;/td&gt;</span>
<span class="s2">                    &lt;td&gt;&lt;a HREF=&quot;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">scatter.png&quot;&gt;                 &lt;center&gt;&lt;img src=&quot;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">scatter.png&quot;                      width=1200 height=1200 border=0&gt;&lt;/a&gt;&lt;/td&gt;&lt;/center&gt;</span>
<span class="s2">                    &lt;td&gt;&lt;a HREF=&quot;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">boxplot.png&quot;&gt;                 &lt;center&gt;&lt;img src=&quot;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">boxplot.png&quot;                      width=1200 height=1200 border=0&gt;&lt;/a&gt;&lt;/td&gt;&lt;/center&gt;</span>
<span class="s2">                &lt;/tr&gt;</span>
<span class="s2">            </span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">],</span> <span class="n">chan_dirpath</span><span class="p">,</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">],</span> <span class="n">chan_dirpath</span><span class="p">,</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span>
                       <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">],</span> <span class="n">chan_dirpath</span><span class="p">,</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">],</span> <span class="n">chan_dirpath</span><span class="p">,</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span>
                       <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">])</span>

            <span class="c1"># Write output to file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chan_body</span><span class="p">)</span>

        <span class="c1"># Write the end lines of the html</span>
        <span class="n">end_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;/table&gt;</span>
<span class="s2">        &lt;/body&gt;</span>
<span class="s2">    &lt;/html&gt;</span>
<span class="s2">                &quot;&quot;&quot;</span>
        <span class="n">end_body</span> <span class="o">=</span> <span class="n">end_body</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">end_body</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">return</span></div>


<div class="viewcode-block" id="create_mainCC_htmls"><a class="viewcode-back" href="../../../pycheron.UI.html#pycheron.UI.createHTML.create_mainCC_htmls">[docs]</a><span class="k">def</span> <span class="nf">create_mainCC_htmls</span><span class="p">(</span><span class="n">dirpath</span><span class="p">,</span> <span class="n">outpath</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates CC html pages for each station within a given network</span>

<span class="sd">    :param dirpath (str) - directory path where Pycheron output was written, should be for a specific network</span>

<span class="sd">    :return: returns $sta-cc.html for each station in the current working directory</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Obtain network name from dirpath, then grab out list of stations processed</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">dirpath</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">stalist</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># If css, js, images directories exist in current directory</span>
    <span class="k">if</span> <span class="s1">&#39;css&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;css&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;js&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;js&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;images&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">)</span>

    <span class="c1"># Loop through stations and create html</span>
    <span class="k">for</span> <span class="n">sta</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)):</span>

        <span class="c1"># Create a new dirpath based on station directory so we know which chans exist for that station</span>
        <span class="n">new_dirpath</span> <span class="o">=</span> <span class="n">dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">]</span>

        <span class="c1"># Create station specific html name for basicStats</span>
        <span class="n">html_fname</span> <span class="o">=</span> <span class="n">outpath</span><span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">-cc.html&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

        <span class="c1"># Open the file</span>
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">html_fname</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

        <span class="c1"># Write html files</span>
        <span class="c1"># If first station in the list we need left arrow to grab the last station name, then write basicStats_body to</span>
        <span class="c1"># file</span>
        <span class="k">if</span> <span class="n">sta</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">cc_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">    &lt;html&gt;</span>
<span class="s2">        &lt;head&gt;</span>
<span class="s2">            &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">            &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> Cross Correlation Metric &lt;/title&gt;</span>
<span class="s2">            &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">            &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">        &lt;/head&gt;</span>
<span class="s2">        &lt;body&gt;</span>
<span class="s2">            &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-cc.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-cc.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;/tr&gt;</span>
<span class="s2">            &lt;/table&gt;</span>
<span class="s2">            &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-stalta.html&quot;&gt;STA LTA&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-corr.html&quot;&gt; Correlation &lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">            &lt;!-- PDF Viewer table  --&gt;</span>
<span class="s2">            &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Station &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; Cross Corr Table &lt;/td&gt;</span>
<span class="s2">                &lt;tr&gt;&lt;td bgcolor=&quot;#B3B6B7&quot;&gt; &lt;FONT SIZE=16&gt; </span><span class="si">{}</span><span class="s2"> &lt;/td&gt;</span>
<span class="s2">                    &lt;td&gt;&lt;a target = &quot;_parent&quot; href=&quot;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">_ccTable.html&quot; &gt; </span><span class="si">{}</span><span class="s2">_CCTable &lt;/a&gt;</span>
<span class="s2">                &lt;/tr&gt;</span>
<span class="s2">            &lt;/table&gt;</span>
<span class="s2">        &lt;/body&gt;</span>
<span class="s2">    &lt;/html&gt;</span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">new_dirpath</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

            <span class="c1"># Write output to file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">cc_body</span><span class="p">)</span>

        <span class="c1"># If we are not the first or the last, we can pick sta + 1 or sta - 1 for the arrows, so we are fine</span>
        <span class="k">elif</span> <span class="n">sta</span> <span class="o">!=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="n">sta</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">cc_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">    &lt;html&gt;</span>
<span class="s2">        &lt;head&gt;</span>
<span class="s2">            &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">            &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> Cross Correlation Metric &lt;/title&gt;</span>
<span class="s2">            &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">            &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">        &lt;/head&gt;</span>
<span class="s2">        &lt;body&gt;</span>
<span class="s2">            &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-cc.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-cc.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;/tr&gt;</span>
<span class="s2">            &lt;/table&gt;</span>
<span class="s2">            &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-stalta.html&quot;&gt;STA LTA&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-corr.html&quot;&gt; Correlation &lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">            &lt;!-- PDF Viewer table  --&gt;</span>
<span class="s2">            &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Station &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; Cross Corr Table &lt;/td&gt;</span>
<span class="s2">                &lt;tr&gt;&lt;td bgcolor=&quot;#B3B6B7&quot;&gt; &lt;FONT SIZE=16&gt; </span><span class="si">{}</span><span class="s2"> &lt;/td&gt;</span>
<span class="s2">                    &lt;td&gt;&lt;a target = &quot;_parent&quot; href=&quot;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">_ccTable.html&quot; &gt; </span><span class="si">{}</span><span class="s2">_CCTable &lt;/a&gt;</span>
<span class="s2">                &lt;/tr&gt;</span>
<span class="s2">            &lt;/table&gt;</span>
<span class="s2">        &lt;/body&gt;</span>
<span class="s2">    &lt;/html&gt;</span>
<span class="s2">                    &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                               <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span>
                               <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">new_dirpath</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

            <span class="c1"># Write output to file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">cc_body</span><span class="p">)</span>

        <span class="c1"># If we are the last station in the list, then we need the left arrow to point to the first station in the list</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cc_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">        &lt;html&gt;</span>
<span class="s2">            &lt;head&gt;</span>
<span class="s2">                &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">                &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">                &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> Cross Correlation Metric &lt;/title&gt;</span>
<span class="s2">                &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">                &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">            &lt;/head&gt;</span>
<span class="s2">            &lt;body&gt;</span>
<span class="s2">                &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">                    &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">                        &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-cc.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                        &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                        &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-cc.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                    &lt;/tr&gt;</span>
<span class="s2">                &lt;/table&gt;</span>
<span class="s2">                &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-stalta.html&quot;&gt;STA LTA&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-corr.html&quot;&gt; Correlation &lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">                &lt;!-- PDF Viewer table  --&gt;</span>
<span class="s2">                &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">                    &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Station &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; Cross Corr Table &lt;/td&gt;</span>
<span class="s2">                    &lt;tr&gt;&lt;td bgcolor=&quot;#B3B6B7&quot;&gt; &lt;FONT SIZE=16&gt; </span><span class="si">{}</span><span class="s2"> &lt;/td&gt;</span>
<span class="s2">                        &lt;td&gt;&lt;a target = &quot;_parent&quot; href=&quot;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">_ccTable.html&quot; &gt; </span><span class="si">{}</span><span class="s2">_CCTable &lt;/a&gt;</span>
<span class="s2">                    &lt;/tr&gt;</span>
<span class="s2">                &lt;/table&gt;</span>
<span class="s2">            &lt;/body&gt;</span>
<span class="s2">        &lt;/html&gt;</span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">new_dirpath</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

            <span class="c1"># Write output to file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">cc_body</span><span class="p">)</span>

        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">return</span></div>


<div class="viewcode-block" id="create_colorgrid_htmls"><a class="viewcode-back" href="../../../pycheron.UI.html#pycheron.UI.createHTML.create_colorgrid_htmls">[docs]</a><span class="k">def</span> <span class="nf">create_colorgrid_htmls</span><span class="p">(</span><span class="n">dirpath</span><span class="p">,</span> <span class="n">outpath</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">       Creates colorgrid html pages for each station within a given network</span>

<span class="sd">       :param dirpath (str) - directory path where Pycheron output was written, should be for a specific network</span>

<span class="sd">       :return: returns $sta-colorgrids.html for each station in the current working directory</span>

<span class="sd">       &quot;&quot;&quot;</span>

    <span class="c1"># Obtain network name from dirpath, then grab out list of stations processed</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">dirpath</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">stalist</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># If css, js, images directories exist in current directory</span>
    <span class="k">if</span> <span class="s1">&#39;css&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;css&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;js&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;js&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;images&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">)</span>

    <span class="c1"># Loop through stations and create html</span>
    <span class="k">for</span> <span class="n">sta</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)):</span>

        <span class="c1"># Create a new dirpath based on station directory so we know which chans exist for that station</span>
        <span class="n">new_dirpath</span> <span class="o">=</span> <span class="n">dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">]</span>

        <span class="c1"># Create station specific html name for basicStats</span>
        <span class="n">html_fname</span> <span class="o">=</span> <span class="n">outpath</span><span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">-colorgrids.html&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

        <span class="c1"># Open the file</span>
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">html_fname</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

        <span class="c1"># Get the list of chans for the station, if PSDS directory in the list (which will be for any station that had</span>
        <span class="c1"># PSDs run) then remove that item from the list</span>
        <span class="n">chans</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">new_dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="s1">&#39;PSDS&#39;</span> <span class="ow">in</span> <span class="n">chans</span><span class="p">:</span>
            <span class="n">chans</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;PSDS&#39;</span><span class="p">)</span>

        <span class="c1"># Write html files</span>
        <span class="c1"># If first station in the list we need left arrow to grab the last station name, then write basicStats_body to</span>
        <span class="c1"># file</span>
        <span class="k">if</span> <span class="n">sta</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">color_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">    &lt;html&gt;</span>
<span class="s2">        &lt;head&gt;</span>
<span class="s2">            &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">            &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> Power Mode / Colorgrids &lt;/title&gt;</span>
<span class="s2">            &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">            &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">        &lt;/head&gt;</span>
<span class="s2">        &lt;body&gt;</span>
<span class="s2">           &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">               &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">                   &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-colorgrids.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                   &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                   &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-colorgrids.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">               &lt;/tr&gt;</span>
<span class="s2">           &lt;/table&gt;</span>
<span class="s2">           &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-PSDPDFs.html&quot;&gt;PSD PDFs&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-basicStats.html&quot;&gt;Basic Stats &lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">           &lt;!-- PDF Viewer table  --&gt;</span>
<span class="s2">           &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">               &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Channel &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; Power Mode Timelines &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; Colorgrids &lt;/td&gt;&lt;/tr&gt;</span>
<span class="s2">        &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                   <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">color_body</span><span class="p">)</span>

        <span class="c1"># If we are not the first or the last, we can pick sta + 1 or sta - 1 for the arrows, so we are fine</span>
        <span class="k">elif</span> <span class="n">sta</span> <span class="o">!=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="n">sta</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">color_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">    &lt;html&gt;</span>
<span class="s2">        &lt;head&gt;</span>
<span class="s2">            &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">            &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> Power Mode / Colorgrids &lt;/title&gt;</span>
<span class="s2">            &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">            &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">        &lt;/head&gt;</span>
<span class="s2">        &lt;body&gt;</span>
<span class="s2">           &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">               &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">                   &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-colorgrids.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                   &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                   &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-colorgrids.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">               &lt;/tr&gt;</span>
<span class="s2">           &lt;/table&gt;</span>
<span class="s2">           &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-PSDPDFs.html&quot;&gt;PSD PDFs&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-basicStats.html&quot;&gt;Basic Stats &lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">           &lt;!-- PDF Viewer table  --&gt;</span>
<span class="s2">           &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">               &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Channel &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; Power Mode Timelines &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; Colorgrids &lt;/td&gt;&lt;/tr&gt;</span>
<span class="s2">        &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                   <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span>
                   <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">color_body</span><span class="p">)</span>

        <span class="c1"># If we are the last station in the list, then we need the left arrow to point to the first station in the list</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">color_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">    &lt;html&gt;</span>
<span class="s2">        &lt;head&gt;</span>
<span class="s2">            &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">            &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> Power Mode / Colorgrids &lt;/title&gt;</span>
<span class="s2">            &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">            &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">        &lt;/head&gt;</span>
<span class="s2">        &lt;body&gt;</span>
<span class="s2">            &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-colorgrids.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-colorgrids.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;/tr&gt;</span>
<span class="s2">            &lt;/table&gt;</span>
<span class="s2">            &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-PSDPDFs.html&quot;&gt;PSD PDFs&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-basicStats.html&quot;&gt;Basic Stats &lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">            &lt;!-- PDF Viewer table  --&gt;</span>
<span class="s2">            &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Channel &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; Power Mode Timelines &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; Colorgrids &lt;/td&gt;&lt;/tr&gt;</span>
<span class="s2">        &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span>
                   <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">color_body</span><span class="p">)</span>

        <span class="c1"># Loop for chans for the station and write out the table</span>
        <span class="k">for</span> <span class="n">chan</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">chans</span><span class="p">)):</span>

            <span class="n">chan_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;       &lt;tr&gt;&lt;td bgcolor=&quot;#B3B6B7&quot;&gt; &lt;FONT SIZE=16&gt; </span><span class="si">{}</span><span class="s2"> &lt;/td&gt;</span>
<span class="s2">                   &lt;td&gt;&lt;a HREF=&quot;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">/dailyPDFLine_</span><span class="si">{}</span><span class="s2">.png&quot;&gt;                 &lt;center&gt;&lt;img src=&quot;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">/dailyPDFLine_</span><span class="si">{}</span><span class="s2">.png&quot;                      width=1200 height=1200 border=0&gt;&lt;/a&gt;&lt;/td&gt;&lt;/center&gt;</span>
<span class="s2">                   &lt;td&gt;&lt;a HREF=&quot;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">/dailyPDFgrid_</span><span class="si">{}</span><span class="s2">.png&quot;&gt;                 &lt;center&gt;&lt;img src=&quot;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">/dailyPDFgrid_</span><span class="si">{}</span><span class="s2">.png&quot;                      width=1200 height=1200 border=0&gt;&lt;/a&gt;&lt;/td&gt;&lt;/center&gt;</span>
<span class="s2">               &lt;/tr&gt;</span>
<span class="s2">        &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">],</span> <span class="n">new_dirpath</span><span class="p">,</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">],</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">],</span> <span class="n">new_dirpath</span><span class="p">,</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">],</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">],</span><span class="n">new_dirpath</span><span class="p">,</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">],</span><span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">],</span>
                   <span class="n">new_dirpath</span><span class="p">,</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">],</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">])</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chan_body</span><span class="p">)</span>

        <span class="c1"># Write the end lines of the html</span>
        <span class="n">end_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;   &lt;/table&gt;</span>
<span class="s2">        &lt;/body&gt;</span>
<span class="s2">    &lt;/html&gt;</span>
<span class="s2">                &quot;&quot;&quot;</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">end_body</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">return</span></div>


<div class="viewcode-block" id="create_corr_htmls"><a class="viewcode-back" href="../../../pycheron.UI.html#pycheron.UI.createHTML.create_corr_htmls">[docs]</a><span class="k">def</span> <span class="nf">create_corr_htmls</span><span class="p">(</span><span class="n">dirpath</span><span class="p">,</span> <span class="n">outpath</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">       Creates correlation html pages for each station within a given network</span>

<span class="sd">       :param dirpath (str) - directory path where Pycheron output was written, should be for a specific network</span>

<span class="sd">       :return: returns $sta-corr.html for each station in the current working directory</span>

<span class="sd">       &quot;&quot;&quot;</span>

    <span class="c1"># Obtain network name from dirpath, then grab out list of stations processed</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">dirpath</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">stalist</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># If css, js, images directories exist in current directory</span>
    <span class="k">if</span> <span class="s1">&#39;css&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;css&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;js&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;js&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;images&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">)</span>

    <span class="c1"># Loop through stations and create html</span>
    <span class="k">for</span> <span class="n">sta</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)):</span>

        <span class="c1"># Create a new dirpath based on station directory so we know which chans exist for that station</span>
        <span class="n">new_dirpath</span> <span class="o">=</span> <span class="n">dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">]</span>

        <span class="c1"># Create station specific html name for basicStats</span>
        <span class="n">html_fname</span> <span class="o">=</span> <span class="n">outpath</span><span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">-corr.html&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

        <span class="c1"># Open the file</span>
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">html_fname</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

        <span class="c1"># Write html files</span>
        <span class="c1"># If first station in the list we need left arrow to grab the last station name, then write basicStats_body to</span>
        <span class="c1"># file</span>
        <span class="k">if</span> <span class="n">sta</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">corr_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">    &lt;html&gt;</span>
<span class="s2">        &lt;head&gt;</span>
<span class="s2">            &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">            &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> Correlation Metric &lt;/title&gt;</span>
<span class="s2">            &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">            &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">        &lt;/head&gt;</span>
<span class="s2">        &lt;body&gt;</span>
<span class="s2">            &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-corr.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-corr.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;/tr&gt;</span>
<span class="s2">            &lt;/table&gt;</span>
<span class="s2">            &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-cc.html&quot;&gt;Cross Corr&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-SOH.html&quot;&gt; SOH Metric &lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">            &lt;!-- PDF Viewer table  --&gt;</span>
<span class="s2">            &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Station &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; Correlation Table &lt;/td&gt;</span>
<span class="s2">                &lt;tr&gt;&lt;td bgcolor=&quot;#B3B6B7&quot;&gt; &lt;FONT SIZE=16&gt; </span><span class="si">{}</span><span class="s2"> &lt;/td&gt;</span>
<span class="s2">                    &lt;td&gt;&lt;a target = &quot;_parent&quot; href=&quot;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">_corrTable.html&quot; &gt; </span><span class="si">{}</span><span class="s2">_CorrTable &lt;/a&gt;</span>
<span class="s2">                &lt;/tr&gt;</span>
<span class="s2">            &lt;/table&gt;</span>
<span class="s2">        &lt;/body&gt;</span>
<span class="s2">    &lt;/html&gt;</span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">new_dirpath</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

            <span class="c1"># Write output to file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">corr_body</span><span class="p">)</span>

        <span class="c1"># If we are not the first or the last, we can pick sta + 1 or sta - 1 for the arrows, so we are fine</span>
        <span class="k">elif</span> <span class="n">sta</span> <span class="o">!=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="n">sta</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">corr_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">    &lt;html&gt;</span>
<span class="s2">        &lt;head&gt;</span>
<span class="s2">            &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">            &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> Correlation Metric &lt;/title&gt;</span>
<span class="s2">            &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">            &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">        &lt;/head&gt;</span>
<span class="s2">        &lt;body&gt;</span>
<span class="s2">            &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-corr.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-corr.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;/tr&gt;</span>
<span class="s2">            &lt;/table&gt;</span>
<span class="s2">            &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-cc.html&quot;&gt;Cross Corr&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-SOH.html&quot;&gt; SOH Metric &lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">            &lt;!-- PDF Viewer table  --&gt;</span>
<span class="s2">            &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Station &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; Correlation Table &lt;/td&gt;</span>
<span class="s2">                &lt;tr&gt;&lt;td bgcolor=&quot;#B3B6B7&quot;&gt; &lt;FONT SIZE=16&gt; </span><span class="si">{}</span><span class="s2"> &lt;/td&gt;</span>
<span class="s2">                    &lt;td&gt;&lt;a target = &quot;_parent&quot; href=&quot;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">_corrTable.html&quot; &gt; </span><span class="si">{}</span><span class="s2">_CorrTable &lt;/a&gt;</span>
<span class="s2">                &lt;/tr&gt;</span>
<span class="s2">            &lt;/table&gt;</span>
<span class="s2">        &lt;/body&gt;</span>
<span class="s2">    &lt;/html&gt;</span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">new_dirpath</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

            <span class="c1"># Write output to file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">corr_body</span><span class="p">)</span>

        <span class="c1"># If we are the last station in the list, then we need the left arrow to point to the first station in the list</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">corr_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">    &lt;html&gt;</span>
<span class="s2">        &lt;head&gt;</span>
<span class="s2">            &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">            &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> Correlation Metric &lt;/title&gt;</span>
<span class="s2">            &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">            &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">        &lt;/head&gt;</span>
<span class="s2">        &lt;body&gt;</span>
<span class="s2">            &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-corr.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-corr.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;/tr&gt;</span>
<span class="s2">            &lt;/table&gt;</span>
<span class="s2">            &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-cc.html&quot;&gt;Cross Corr&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-SOH.html&quot;&gt; SOH Metric &lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">            &lt;!-- PDF Viewer table  --&gt;</span>
<span class="s2">            &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Station &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; Correlation Table &lt;/td&gt;</span>
<span class="s2">                &lt;tr&gt;&lt;td bgcolor=&quot;#B3B6B7&quot;&gt; &lt;FONT SIZE=16&gt; </span><span class="si">{}</span><span class="s2"> &lt;/td&gt;</span>
<span class="s2">                    &lt;td&gt;&lt;a target = &quot;_parent&quot; href=&quot;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">_corrTable.html&quot; &gt; </span><span class="si">{}</span><span class="s2">_CorrTable &lt;/a&gt;</span>
<span class="s2">                &lt;/tr&gt;</span>
<span class="s2">            &lt;/table&gt;</span>
<span class="s2">        &lt;/body&gt;</span>
<span class="s2">    &lt;/html&gt;</span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">new_dirpath</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

            <span class="c1"># Write output to file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">corr_body</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">return</span></div>


<div class="viewcode-block" id="create_dcOffsets_htmls"><a class="viewcode-back" href="../../../pycheron.UI.html#pycheron.UI.createHTML.create_dcOffsets_htmls">[docs]</a><span class="k">def</span> <span class="nf">create_dcOffsets_htmls</span><span class="p">(</span><span class="n">dirpath</span><span class="p">,</span> <span class="n">outpath</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">       Creates dcOffsets html pages for each station within a given network</span>

<span class="sd">       :param dirpath (str) - directory path where Pycheron output was written, should be for a specific network</span>

<span class="sd">       :return: returns $sta-dcOffset.html for each station in the current working directory</span>

<span class="sd">       &quot;&quot;&quot;</span>

    <span class="c1"># Obtain network name from dirpath, then grab out list of stations processed</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">dirpath</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">stalist</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># If css, js, images directories exist in current directory</span>
    <span class="k">if</span> <span class="s1">&#39;css&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;css&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;js&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;js&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;images&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">)</span>

    <span class="c1"># Loop through stations and create html</span>
    <span class="k">for</span> <span class="n">sta</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)):</span>

        <span class="c1"># Create a new dirpath based on station directory so we know which chans exist for that station</span>
        <span class="n">new_dirpath</span> <span class="o">=</span> <span class="n">dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">]</span>

        <span class="c1"># Create station specific html name for basicStats</span>
        <span class="n">html_fname</span> <span class="o">=</span> <span class="n">outpath</span><span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">-dcOffset.html&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

        <span class="c1"># Open the file</span>
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">html_fname</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

        <span class="c1"># Get the list of chans for the station, if PSDS directory in the list (which will be for any station that had</span>
        <span class="c1"># PSDs run) then remove that item from the list</span>
        <span class="n">chans</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">new_dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="s1">&#39;PSDS&#39;</span> <span class="ow">in</span> <span class="n">chans</span><span class="p">:</span>
            <span class="n">chans</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;PSDS&#39;</span><span class="p">)</span>

        <span class="c1"># Write html files</span>
        <span class="c1"># If first station in the list we need left arrow to grab the last station name, then write basicStats_body to</span>
        <span class="c1"># file</span>
        <span class="k">if</span> <span class="n">sta</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">dc_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">    &lt;html&gt;</span>
<span class="s2">        &lt;head&gt;</span>
<span class="s2">            &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">            &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> dcOffset Metric &lt;/title&gt;</span>
<span class="s2">            &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">            &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">        &lt;/head&gt;</span>
<span class="s2">        &lt;body&gt;</span>
<span class="s2">            &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-dcOffset.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-dcOffset.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;/tr&gt;</span>
<span class="s2">            &lt;/table&gt;</span>
<span class="s2">            &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-spikes.html&quot;&gt;Spikes&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-repAmps.html&quot;&gt; Repeated Amps &lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">            &lt;!-- PDF Viewer table  --&gt;</span>
<span class="s2">            &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Channel &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; DcOffset Table &lt;/td&gt;</span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

            <span class="c1"># Write output to file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">dc_body</span><span class="p">)</span>

        <span class="c1"># If we are not the first or the last, we can pick sta + 1 or sta - 1 for the arrows, so we are fine</span>
        <span class="k">elif</span> <span class="n">sta</span> <span class="o">!=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="n">sta</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">dc_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">        &lt;html&gt;</span>
<span class="s2">            &lt;head&gt;</span>
<span class="s2">                &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">                &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">                &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> dcOffset Metric &lt;/title&gt;</span>
<span class="s2">                &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">                &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">            &lt;/head&gt;</span>
<span class="s2">            &lt;body&gt;</span>
<span class="s2">                &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">                    &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">                        &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-dcOffset.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                        &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                        &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-dcOffset.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                    &lt;/tr&gt;</span>
<span class="s2">                &lt;/table&gt;</span>
<span class="s2">                &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-spikes.html&quot;&gt;Spikes&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-repAmps.html&quot;&gt; Repeated Amps &lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">                &lt;!-- PDF Viewer table  --&gt;</span>
<span class="s2">                &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">                    &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Channel &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; DcOffset Table &lt;/td&gt;</span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

            <span class="c1"># Write output to file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">dc_body</span><span class="p">)</span>

        <span class="c1"># If we are the last station in the list, then we need the left arrow to point to the first station in the list</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">dc_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">        &lt;html&gt;</span>
<span class="s2">            &lt;head&gt;</span>
<span class="s2">                &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">                &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">                &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> dcOffset Metric &lt;/title&gt;</span>
<span class="s2">                &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">                &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">            &lt;/head&gt;</span>
<span class="s2">            &lt;body&gt;</span>
<span class="s2">                &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">                    &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">                        &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-dcOffset.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                        &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                        &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-dcOffset.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                    &lt;/tr&gt;</span>
<span class="s2">                &lt;/table&gt;</span>
<span class="s2">                &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-spikes.html&quot;&gt;Spikes&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-repAmps.html&quot;&gt; Repeated Amps &lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">                &lt;!-- PDF Viewer table  --&gt;</span>
<span class="s2">                &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">                    &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Channel &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; DcOffset Table &lt;/td&gt;</span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

            <span class="c1"># Write output to file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">dc_body</span><span class="p">)</span>

        <span class="c1"># Loop through channels for each station and write out the correct table links</span>
        <span class="k">for</span> <span class="n">chan</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">chans</span><span class="p">)):</span>
            <span class="n">chan_dirpath</span> <span class="o">=</span> <span class="n">new_dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">]</span>
            <span class="n">chan_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;             &lt;tr&gt;&lt;td bgcolor=&quot;#B3B6B7&quot;&gt; &lt;FONT SIZE=16&gt; </span><span class="si">{}</span><span class="s2"> &lt;/td&gt;</span>
<span class="s2">                            &lt;td&gt;&lt;a target = &quot;_parent&quot; href=&quot;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">.dcOffsetTable.html&quot; &gt; </span><span class="si">{}</span><span class="s2">_dcOffsetTable &lt;/a&gt;</span>
<span class="s2">                         &lt;/tr&gt;</span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">],</span> <span class="n">chan_dirpath</span><span class="p">,</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">],</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">])</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chan_body</span><span class="p">)</span>

        <span class="c1"># Write the end lines of the html</span>
        <span class="n">end_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;   &lt;/table&gt;</span>
<span class="s2">        &lt;/body&gt;</span>
<span class="s2">    &lt;/html&gt;</span>
<span class="s2">                &quot;&quot;&quot;</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">end_body</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">return</span></div>


<div class="viewcode-block" id="create_gap_htmls"><a class="viewcode-back" href="../../../pycheron.UI.html#pycheron.UI.createHTML.create_gap_htmls">[docs]</a><span class="k">def</span> <span class="nf">create_gap_htmls</span><span class="p">(</span><span class="n">dirpath</span><span class="p">,</span> <span class="n">outpath</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">       Creates gap html pages for each station within a given network</span>

<span class="sd">       :param dirpath (str) - directory path where Pycheron output was written, should be for a specific network</span>

<span class="sd">       :return: returns $sta-gaps.html for each station in the current working directory</span>

<span class="sd">       &quot;&quot;&quot;</span>

    <span class="c1"># Obtain network name from dirpath, then grab out list of stations processed</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">dirpath</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">stalist</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># If css, js, images directories exist in current directory</span>
    <span class="k">if</span> <span class="s1">&#39;css&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;css&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;js&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;js&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;images&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">)</span>

    <span class="c1"># Loop through stations and create html</span>
    <span class="k">for</span> <span class="n">sta</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)):</span>

        <span class="c1"># Create a new dirpath based on station directory so we know which chans exist for that station</span>
        <span class="n">new_dirpath</span> <span class="o">=</span> <span class="n">dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">]</span>

        <span class="c1"># Create station specific html name for basicStats</span>
        <span class="n">html_fname</span> <span class="o">=</span> <span class="n">outpath</span><span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">-gaps.html&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

        <span class="c1"># Open the file</span>
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">html_fname</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

        <span class="c1"># Get the list of chans for the station, if PSDS directory in the list (which will be for any station that had</span>
        <span class="c1"># PSDs run) then remove that item from the list</span>
        <span class="n">chans</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">new_dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="s1">&#39;PSDS&#39;</span> <span class="ow">in</span> <span class="n">chans</span><span class="p">:</span>
            <span class="n">chans</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;PSDS&#39;</span><span class="p">)</span>

        <span class="c1"># Write html files</span>
        <span class="c1"># If first station in the list we need left arrow to grab the last station name, then write basicStats_body to</span>
        <span class="c1"># file</span>
        <span class="k">if</span> <span class="n">sta</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">gap_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">    &lt;html&gt;</span>
<span class="s2">        &lt;head&gt;</span>
<span class="s2">            &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">            &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> Gaps/Overlaps/Station Completeness &lt;/title&gt;</span>
<span class="s2">            &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">            &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">        &lt;/head&gt;</span>
<span class="s2">        &lt;body&gt;</span>
<span class="s2">            &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">                     &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-gaps.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                     &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                     &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-gaps.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;/tr&gt;</span>
<span class="s2">            &lt;/table&gt;</span>
<span class="s2">            &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-basicstats.html&quot;&gt;Basic Stats&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-spikes.html&quot;&gt; Spikes &lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">            &lt;!-- PDF Viewer table  --&gt;</span>
<span class="s2">            &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Channel/Station &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; Gap Table &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; Gap/Overlap Stats &lt;/td&gt;&lt;/tr&gt;</span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

            <span class="c1"># Write output to file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">gap_body</span><span class="p">)</span>

        <span class="c1"># If we are not the first or the last, we can pick sta + 1 or sta - 1 for the arrows, so we are fine</span>
        <span class="k">elif</span> <span class="n">sta</span> <span class="o">!=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="n">sta</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">gap_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">    &lt;html&gt;</span>
<span class="s2">        &lt;head&gt;</span>
<span class="s2">            &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">            &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> Gaps/Overlaps/Station Completeness &lt;/title&gt;</span>
<span class="s2">            &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">            &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">        &lt;/head&gt;</span>
<span class="s2">        &lt;body&gt;</span>
<span class="s2">            &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">                        &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-gaps.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                        &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                        &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-gaps.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;/tr&gt;</span>
<span class="s2">            &lt;/table&gt;</span>
<span class="s2">            &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-basicstats.html&quot;&gt;Basic Stats&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-spikes.html&quot;&gt; Spikes &lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">            &lt;!-- PDF Viewer table  --&gt;</span>
<span class="s2">            &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Channel/Station &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; Gap Table &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; Gap/Overlap Stats &lt;/td&gt;&lt;/tr&gt;</span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

            <span class="c1"># Write output to file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">gap_body</span><span class="p">)</span>

        <span class="c1"># If we are the last station in the list, then we need the left arrow to point to the first station in the list</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">gap_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">    &lt;html&gt;</span>
<span class="s2">        &lt;head&gt;</span>
<span class="s2">            &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">            &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> Gaps/Overlaps/Station Completeness &lt;/title&gt;</span>
<span class="s2">            &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">            &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">        &lt;/head&gt;</span>
<span class="s2">        &lt;body&gt;</span>
<span class="s2">            &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">                        &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-gaps.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                        &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                        &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-gaps.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;/tr&gt;</span>
<span class="s2">            &lt;/table&gt;</span>
<span class="s2">            &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-basicstats.html&quot;&gt;Basic Stats&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-spikes.html&quot;&gt; Spikes &lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">            &lt;!-- PDF Viewer table  --&gt;</span>
<span class="s2">            &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Channel/Station &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; Gap Table &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; Gap/Overlap Stats &lt;/td&gt;&lt;/tr&gt;</span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

            <span class="c1"># Write output to file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">gap_body</span><span class="p">)</span>

        <span class="c1"># Loop through channels for each station and write out the correct table links</span>
        <span class="k">for</span> <span class="n">chan</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">chans</span><span class="p">)):</span>
            <span class="n">chan_dirpath</span> <span class="o">=</span> <span class="n">new_dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">]</span>
            <span class="n">chan_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;          &lt;tr&gt;&lt;td bgcolor=&quot;#B3B6B7&quot;&gt; &lt;FONT SIZE=16&gt; </span><span class="si">{}</span><span class="s2"> &lt;/td&gt;</span>
<span class="s2">                        &lt;td&gt;&lt;a target = &quot;_parent&quot; href=&quot;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">.gapTable.html&quot; &gt; </span><span class="si">{}</span><span class="s2">_GapTable &lt;/a&gt;</span>
<span class="s2">                        &lt;td&gt;&lt;a target = &quot;_parent&quot; href=&quot;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">.gapTable.html&quot; &gt; </span><span class="si">{}</span><span class="s2">_GapTable &lt;/a&gt;</span>
<span class="s2">                      &lt;/tr&gt;</span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">],</span> <span class="n">chan_dirpath</span><span class="p">,</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">],</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">],</span> <span class="n">chan_dirpath</span><span class="p">,</span> <span class="n">net</span><span class="p">,</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">],</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">])</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chan_body</span><span class="p">)</span>

        <span class="c1"># Write out a specific entry for an overall station gap list</span>
        <span class="n">sta_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;          &lt;tr&gt;&lt;td bgcolor=&quot;#B3B6B7&quot;&gt; &lt;FONT SIZE=16&gt; </span><span class="si">{}</span><span class="s2"> &lt;/td&gt;</span>
<span class="s2">                        &lt;td&gt;&lt;a target = &quot;_parent&quot; href=&quot;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">.gapTable.html&quot; &gt; </span><span class="si">{}</span><span class="s2">_GapTable &lt;/a&gt;</span>
<span class="s2">                      &lt;/tr&gt;</span>
<span class="s2">        &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">new_dirpath</span><span class="p">,</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

        <span class="c1"># Write output to file</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">sta_body</span><span class="p">)</span>

        <span class="c1"># Write the end lines of the html</span>
        <span class="n">end_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;    &lt;/table&gt;</span>
<span class="s2">        &lt;/body&gt;</span>
<span class="s2">    &lt;/html&gt;</span>
<span class="s2">                &quot;&quot;&quot;</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">end_body</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">return</span></div>


<div class="viewcode-block" id="create_repAmps_htmls"><a class="viewcode-back" href="../../../pycheron.UI.html#pycheron.UI.createHTML.create_repAmps_htmls">[docs]</a><span class="k">def</span> <span class="nf">create_repAmps_htmls</span><span class="p">(</span><span class="n">dirpath</span><span class="p">,</span> <span class="n">outpath</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">       Creates repAmps html pages for each station within a given network</span>

<span class="sd">       :param dirpath (str) - directory path where Pycheron output was written, should be for a specific network</span>

<span class="sd">       :return: returns $sta-repAmps.html for each station in the current working directory</span>

<span class="sd">       &quot;&quot;&quot;</span>

    <span class="c1"># Obtain network name from dirpath, then grab out list of stations processed</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">dirpath</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">stalist</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># If css, js, images directories exist in current directory</span>
    <span class="k">if</span> <span class="s1">&#39;css&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;css&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;js&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;js&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;images&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">)</span>

    <span class="c1"># Loop through stations and create html</span>
    <span class="k">for</span> <span class="n">sta</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)):</span>

        <span class="c1"># Create a new dirpath based on station directory so we know which chans exist for that station</span>
        <span class="n">new_dirpath</span> <span class="o">=</span> <span class="n">dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">]</span>

        <span class="c1"># Create station specific html name for basicStats</span>
        <span class="n">html_fname</span> <span class="o">=</span> <span class="n">outpath</span><span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">-repAmps.html&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

        <span class="c1"># Open the file</span>
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">html_fname</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

        <span class="c1"># Get the list of chans for the station, if PSDS directory in the list (which will be for any station that had</span>
        <span class="c1"># PSDs run) then remove that item from the list</span>
        <span class="n">chans</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">new_dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="s1">&#39;PSDS&#39;</span> <span class="ow">in</span> <span class="n">chans</span><span class="p">:</span>
            <span class="n">chans</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;PSDS&#39;</span><span class="p">)</span>

        <span class="c1"># Write html files</span>
        <span class="c1"># If first station in the list we need left arrow to grab the last station name, then write basicStats_body to</span>
        <span class="c1"># file</span>
        <span class="k">if</span> <span class="n">sta</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">rep_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">    &lt;html&gt;</span>
<span class="s2">        &lt;head&gt;</span>
<span class="s2">            &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">            &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> Repeated Amplitudes Metric &lt;/title&gt;</span>
<span class="s2">            &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">            &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">        &lt;/head&gt;</span>
<span class="s2">        &lt;body&gt;</span>
<span class="s2">            &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-repAmps.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-repAmps.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;/tr&gt;</span>
<span class="s2">            &lt;/table&gt;</span>
<span class="s2">            &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-dcOffset.html&quot;&gt;DC Offset&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-SNR.html&quot;&gt; SNR &lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">            &lt;!-- PDF Viewer table  --&gt;</span>
<span class="s2">            &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Channel &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; Repeated Amps Table &lt;/td&gt;</span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

            <span class="c1"># Write output to file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">rep_body</span><span class="p">)</span>

        <span class="c1"># If we are not the first or the last, we can pick sta + 1 or sta - 1 for the arrows, so we are fine</span>
        <span class="k">elif</span> <span class="n">sta</span> <span class="o">!=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="n">sta</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">rep_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">    &lt;html&gt;</span>
<span class="s2">        &lt;head&gt;</span>
<span class="s2">            &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">            &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> Repeated Amplitudes Metric &lt;/title&gt;</span>
<span class="s2">            &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">            &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">        &lt;/head&gt;</span>
<span class="s2">        &lt;body&gt;</span>
<span class="s2">            &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-repAmps.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-repAmps.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;/tr&gt;</span>
<span class="s2">            &lt;/table&gt;</span>
<span class="s2">            &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-dcOffset.html&quot;&gt;DC Offset&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-SNR.html&quot;&gt; SNR &lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">            &lt;!-- PDF Viewer table  --&gt;</span>
<span class="s2">            &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Channel &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; Repeated Amps Table &lt;/td&gt;</span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

            <span class="c1"># Write output to file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">rep_body</span><span class="p">)</span>

        <span class="c1"># If we are the last station in the list, then we need the left arrow to point to the first station in the list</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">rep_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">    &lt;html&gt;</span>
<span class="s2">        &lt;head&gt;</span>
<span class="s2">            &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">            &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> Repeated Amplitudes Metric &lt;/title&gt;</span>
<span class="s2">            &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">            &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">        &lt;/head&gt;</span>
<span class="s2">        &lt;body&gt;</span>
<span class="s2">            &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-repAmps.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-repAmps.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;/tr&gt;</span>
<span class="s2">            &lt;/table&gt;</span>
<span class="s2">            &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-dcOffset.html&quot;&gt;DC Offset&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-SNR.html&quot;&gt; SNR &lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">            &lt;!-- PDF Viewer table  --&gt;</span>
<span class="s2">            &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Channel &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; Repeated Amps Table &lt;/td&gt;</span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                       <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

            <span class="c1"># Write output to file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">rep_body</span><span class="p">)</span>

        <span class="c1"># Loop through channels for each station and write out the correct table links</span>
        <span class="k">for</span> <span class="n">chan</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">chans</span><span class="p">)):</span>
            <span class="n">chan_dirpath</span> <span class="o">=</span> <span class="n">new_dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">]</span>
            <span class="n">chan_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;             &lt;tr&gt;&lt;td bgcolor=&quot;#B3B6B7&quot;&gt; &lt;FONT SIZE=16&gt; </span><span class="si">{}</span><span class="s2"> &lt;/td&gt;</span>
<span class="s2">                            &lt;td&gt;&lt;a target = &quot;_parent&quot; href=&quot;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">.repAmpTable.html&quot; &gt; </span><span class="si">{}</span><span class="s2">_repAmpsTable &lt;/a&gt;</span>
<span class="s2">                         &lt;/tr&gt;</span>
<span class="s2">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">],</span> <span class="n">chan_dirpath</span><span class="p">,</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">],</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">])</span>

            <span class="c1"># Write output to file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chan_body</span><span class="p">)</span>

        <span class="c1"># Write the end lines of the html</span>
        <span class="n">end_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;/table&gt;</span>
<span class="s2">        &lt;/body&gt;</span>
<span class="s2">    &lt;/html&gt;</span>
<span class="s2">                &quot;&quot;&quot;</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">end_body</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">return</span></div>


<div class="viewcode-block" id="create_spikes_htmls"><a class="viewcode-back" href="../../../pycheron.UI.html#pycheron.UI.createHTML.create_spikes_htmls">[docs]</a><span class="k">def</span> <span class="nf">create_spikes_htmls</span><span class="p">(</span><span class="n">dirpath</span><span class="p">,</span><span class="n">outpath</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">       Creates spikes html pages for each station within a given network</span>

<span class="sd">       :param dirpath (str) - directory path where Pycheron output was written, should be for a specific network</span>

<span class="sd">       :return: returns $sta-spikes.html for each station in the current working directory</span>

<span class="sd">       &quot;&quot;&quot;</span>

    <span class="c1"># Obtain network name from dirpath, then grab out list of stations processed</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">dirpath</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">stalist</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># If css, js, images directories exist in current directory</span>
    <span class="k">if</span> <span class="s1">&#39;css&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;css&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;js&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;js&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;images&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">)</span>

    <span class="c1"># Loop through stations and create html</span>
    <span class="k">for</span> <span class="n">sta</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)):</span>

        <span class="c1"># Create a new dirpath based on station directory so we know which chans exist for that station</span>
        <span class="n">new_dirpath</span> <span class="o">=</span> <span class="n">dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">]</span>

        <span class="c1"># Create station specific html name for basicStats</span>
        <span class="n">html_fname</span> <span class="o">=</span> <span class="n">outpath</span><span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">-spikes.html&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

        <span class="c1"># Open the file</span>
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">html_fname</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

        <span class="c1"># Get the list of chans for the station, if PSDS directory in the list (which will be for any station that had</span>
        <span class="c1"># PSDs run) then remove that item from the list</span>
        <span class="n">chans</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">new_dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="s1">&#39;PSDS&#39;</span> <span class="ow">in</span> <span class="n">chans</span><span class="p">:</span>
            <span class="n">chans</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;PSDS&#39;</span><span class="p">)</span>

        <span class="c1"># Write html files</span>
        <span class="c1"># If first station in the list we need left arrow to grab the last station name, then write basicStats_body to</span>
        <span class="c1"># file</span>
        <span class="k">if</span> <span class="n">sta</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">spike_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">    &lt;html&gt;</span>
<span class="s2">        &lt;head&gt;</span>
<span class="s2">            &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">            &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> Spikes Metric &lt;/title&gt;</span>
<span class="s2">            &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">            &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">        &lt;/head&gt;</span>
<span class="s2">        &lt;body&gt;</span>
<span class="s2">            &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-spikes.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-spikes.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;/tr&gt;</span>
<span class="s2">            &lt;/table&gt;</span>
<span class="s2">            &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-gaps.html&quot;&gt;Gaps/Overlaps&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-dcOffset.html&quot;&gt; DCOffset &lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">            &lt;!-- PDF Viewer table  --&gt;</span>
<span class="s2">            &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Channel &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; Spike Table &lt;/td&gt;</span>
<span class="s2">        &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                   <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

            <span class="c1"># Write output to file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">spike_body</span><span class="p">)</span>

        <span class="c1"># If we are not the first or the last, we can pick sta + 1 or sta - 1 for the arrows, so we are fine</span>
        <span class="k">elif</span> <span class="n">sta</span> <span class="o">!=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="n">sta</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">spike_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">    &lt;html&gt;</span>
<span class="s2">        &lt;head&gt;</span>
<span class="s2">            &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">            &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> Spikes Metric &lt;/title&gt;</span>
<span class="s2">            &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">            &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">        &lt;/head&gt;</span>
<span class="s2">        &lt;body&gt;</span>
<span class="s2">            &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-spikes.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-spikes.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;/tr&gt;</span>
<span class="s2">            &lt;/table&gt;</span>
<span class="s2">            &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-gaps.html&quot;&gt;Gaps/Overlaps&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-dcOffset.html&quot;&gt; DCOffset &lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">            &lt;!-- PDF Viewer table  --&gt;</span>
<span class="s2">            &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Channel &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; Spike Table &lt;/td&gt;</span>
<span class="s2">        &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                   <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span>
                   <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

            <span class="c1"># Write output to file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">spike_body</span><span class="p">)</span>

        <span class="c1"># If we are the last station in the list, then we need the left arrow to point to the first station in the list</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">spike_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">    &lt;html&gt;</span>
<span class="s2">        &lt;head&gt;</span>
<span class="s2">            &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">            &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> Spikes Metric &lt;/title&gt;</span>
<span class="s2">            &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">            &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">        &lt;/head&gt;</span>
<span class="s2">        &lt;body&gt;</span>
<span class="s2">            &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-spikes.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-spikes.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;/tr&gt;</span>
<span class="s2">            &lt;/table&gt;</span>
<span class="s2">            &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-gaps.html&quot;&gt;Gaps/Overlaps&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-dcOffset.html&quot;&gt; DCOffset &lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">            &lt;!-- PDF Viewer table  --&gt;</span>
<span class="s2">            &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Channel &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; Spike Table &lt;/td&gt;</span>
<span class="s2">        &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                   <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

            <span class="c1"># Write output to file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">spike_body</span><span class="p">)</span>

        <span class="c1"># Loop through channels for each station and write out the correct table links</span>
        <span class="k">for</span> <span class="n">chan</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">chans</span><span class="p">)):</span>
            <span class="n">chan_dirpath</span> <span class="o">=</span> <span class="n">new_dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">]</span>
            <span class="n">chan_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;             &lt;tr&gt;&lt;td bgcolor=&quot;#B3B6B7&quot;&gt; &lt;FONT SIZE=16&gt; </span><span class="si">{}</span><span class="s2"> &lt;/td&gt;</span>
<span class="s2">                            &lt;td&gt;&lt;a target = &quot;_parent&quot; href=&quot;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">.spikesTable.html&quot; &gt; </span><span class="si">{}</span><span class="s2">_SpikeTable &lt;/a&gt;</span>
<span class="s2">                     &lt;/tr&gt;</span>
<span class="s2">        &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">],</span> <span class="n">chan_dirpath</span><span class="p">,</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">],</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">])</span>

            <span class="c1"># Write output to file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chan_body</span><span class="p">)</span>

        <span class="c1"># Write the end lines of the html</span>
        <span class="n">end_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;    &lt;/table&gt;</span>
<span class="s2">        &lt;/body&gt;</span>
<span class="s2">    &lt;/html&gt;</span>
<span class="s2">                &quot;&quot;&quot;</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">end_body</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">return</span></div>


<div class="viewcode-block" id="create_stalta_htmls"><a class="viewcode-back" href="../../../pycheron.UI.html#pycheron.UI.createHTML.create_stalta_htmls">[docs]</a><span class="k">def</span> <span class="nf">create_stalta_htmls</span><span class="p">(</span><span class="n">dirpath</span><span class="p">,</span><span class="n">outpath</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">       Creates stalta html pages for each station within a given network</span>

<span class="sd">       :param dirpath (str) - directory path where Pycheron output was written, should be for a specific network</span>

<span class="sd">       :return: returns $sta-stalta.html for each station in the current working directory</span>

<span class="sd">       &quot;&quot;&quot;</span>

    <span class="c1"># Obtain network name from dirpath, then grab out list of stations processed</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">dirpath</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">stalist</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># If css, js, images directories exist in current directory</span>
    <span class="k">if</span> <span class="s1">&#39;css&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;css&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;js&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;js&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;images&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">)</span>

    <span class="c1"># Loop through stations and create html</span>
    <span class="k">for</span> <span class="n">sta</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)):</span>

        <span class="c1"># Create a new dirpath based on station directory so we know which chans exist for that station</span>
        <span class="n">new_dirpath</span> <span class="o">=</span> <span class="n">dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">]</span>

        <span class="c1"># Create station specific html name for basicStats</span>
        <span class="n">html_fname</span> <span class="o">=</span> <span class="n">outpath</span><span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">-stalta.html&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

        <span class="c1"># Open the file</span>
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">html_fname</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

        <span class="c1"># Get the list of chans for the station, if PSDS directory in the list (which will be for any station that had</span>
        <span class="c1"># PSDs run) then remove that item from the list</span>
        <span class="n">chans</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">new_dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="s1">&#39;PSDS&#39;</span> <span class="ow">in</span> <span class="n">chans</span><span class="p">:</span>
            <span class="n">chans</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;PSDS&#39;</span><span class="p">)</span>

        <span class="c1"># Write html files</span>
        <span class="c1"># If first station in the list we need left arrow to grab the last station name, then write basicStats_body to</span>
        <span class="c1"># file</span>
        <span class="k">if</span> <span class="n">sta</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">stalta_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">    &lt;html&gt;</span>
<span class="s2">        &lt;head&gt;</span>
<span class="s2">            &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">            &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> STA LTA Metric &lt;/title&gt;</span>
<span class="s2">            &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">            &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">        &lt;/head&gt;</span>
<span class="s2">        &lt;body&gt;</span>
<span class="s2">            &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-stalta.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                     &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-stalta.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;/tr&gt;</span>
<span class="s2">            &lt;/table&gt;</span>
<span class="s2">            &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-SNR.html&quot;&gt;SNR&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-cc.html&quot;&gt; Cross Correlation &lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">            &lt;!-- PDF Viewer table  --&gt;</span>
<span class="s2">            &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Channel &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; STA LTA Table &lt;/td&gt;</span>
<span class="s2">        &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                   <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

            <span class="c1"># Write output to file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">stalta_body</span><span class="p">)</span>

        <span class="c1"># If we are not the first or the last, we can pick sta + 1 or sta - 1 for the arrows, so we are fine</span>
        <span class="k">elif</span> <span class="n">sta</span> <span class="o">!=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="n">sta</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">stalta_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">    &lt;html&gt;</span>
<span class="s2">        &lt;head&gt;</span>
<span class="s2">            &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">            &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> STA LTA Metric &lt;/title&gt;</span>
<span class="s2">            &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">            &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">        &lt;/head&gt;</span>
<span class="s2">        &lt;body&gt;</span>
<span class="s2">            &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-stalta.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-stalta.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;/tr&gt;</span>
<span class="s2">            &lt;/table&gt;</span>
<span class="s2">            &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-SNR.html&quot;&gt;SNR&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-cc.html&quot;&gt; Cross Correlation &lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">            &lt;!-- PDF Viewer table  --&gt;</span>
<span class="s2">            &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Channel &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; STA LTA Table &lt;/td&gt;</span>
<span class="s2">        &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                   <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span>
                   <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

            <span class="c1"># Write output to file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">stalta_body</span><span class="p">)</span>

        <span class="c1"># If we are the last station in the list, then we need the left arrow to point to the first station in the list</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">stalta_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">    &lt;html&gt;</span>
<span class="s2">        &lt;head&gt;</span>
<span class="s2">            &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;&gt;</span>
<span class="s2">            &lt;title&gt; </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2"> STA LTA Metric &lt;/title&gt;</span>
<span class="s2">            &lt;!-- choose css stlying file --&gt;</span>
<span class="s2">            &lt;link href=&quot;css/general.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/link&gt;</span>
<span class="s2">        &lt;/head&gt;</span>
<span class="s2">        &lt;body&gt;</span>
<span class="s2">            &lt;table width = &quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr bgcolor=&quot;909497&quot;&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=right valign=middle&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-stalta.html&quot;&gt;&lt;img src=&quot;images/arrow-left.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;40%&quot; align=center valign=middle style=&quot;font-size:200%&quot;&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;qc.html&quot;&gt;Station List&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                    &lt;td width=&quot;30%&quot; align=left valign=middle&gt;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-stalta.html&quot;&gt;&lt;img src=&quot;images/arrow-right.png&quot; style=&quot;width:100px !important;height:100px font-size:200% !important; title=&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span>
<span class="s2">                &lt;/tr&gt;</span>
<span class="s2">            &lt;/table&gt;</span>
<span class="s2">            &lt;p style=&quot;text-align:center&quot;&gt;&lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-SNR.html&quot;&gt;SNR&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a href=&quot;</span><span class="si">{}</span><span class="s2">-cc.html&quot;&gt; Cross Correlation &lt;/a&gt;&lt;/p&gt;</span>
<span class="s2">            &lt;!-- PDF Viewer table  --&gt;</span>
<span class="s2">            &lt;table width=&quot;100%&quot;&gt;</span>
<span class="s2">                &lt;tr align=center bgcolor=&quot;#909497&quot;&gt;&lt;td&gt;&lt;FONT SIZE=16&gt; Channel &lt;/td&gt;&lt;td&gt; &lt;FONT SIZE=16&gt; STA LTA Table &lt;/td&gt;</span>
<span class="s2">        &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span>
                   <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

            <span class="c1"># Write output to file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">stalta_body</span><span class="p">)</span>

        <span class="c1"># Loop through channels for each station and write out the correct table links</span>
        <span class="k">for</span> <span class="n">chan</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">chans</span><span class="p">)):</span>
            <span class="n">chan_dirpath</span> <span class="o">=</span> <span class="n">new_dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">]</span>
            <span class="n">chan_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;            &lt;tr&gt;&lt;td bgcolor=&quot;#B3B6B7&quot;&gt; &lt;FONT SIZE=16&gt; </span><span class="si">{}</span><span class="s2"> &lt;/td&gt;</span>
<span class="s2">                        &lt;td&gt;&lt;a target = &quot;_parent&quot; href=&quot;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">_</span><span class="si">{}</span><span class="s2">_staltaTable.html&quot; &gt; </span><span class="si">{}</span><span class="s2">_STALTATable &lt;/a&gt;</span>
<span class="s2">                    &lt;/tr&gt;</span>
<span class="s2">        &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">],</span> <span class="n">chan_dirpath</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">],</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">])</span>

            <span class="c1"># Write output to file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chan_body</span><span class="p">)</span>

        <span class="c1"># Write the end lines of the html</span>
        <span class="n">end_body</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;    &lt;/table&gt;</span>
<span class="s2">        &lt;/body&gt;</span>
<span class="s2">    &lt;/html&gt;</span>
<span class="s2">                &quot;&quot;&quot;</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">end_body</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">return</span></div>


<div class="viewcode-block" id="create_subgap_page_htmls"><a class="viewcode-back" href="../../../pycheron.UI.html#pycheron.UI.createHTML.create_subgap_page_htmls">[docs]</a><span class="k">def</span> <span class="nf">create_subgap_page_htmls</span><span class="p">(</span><span class="n">dirpath</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">       Creates sub gap page html pages for each station within a given network, translates actual table into html</span>

<span class="sd">       :param dirpath (str) - directory path where Pycheron output was written, should be for a specific network</span>

<span class="sd">       :return: returns $net.$sta.$chan.gapTable.html for each station/chan in the current working directory</span>

<span class="sd">       &quot;&quot;&quot;</span>

    <span class="c1"># Obtain network name from dirpath, then grab out list of stations processed</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">dirpath</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">stalist</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># If css, js, images directories exist in current directory</span>
    <span class="k">if</span> <span class="s1">&#39;css&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;css&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;js&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;js&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;images&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">)</span>

    <span class="c1"># Loop through stations and create html</span>
    <span class="k">for</span> <span class="n">sta</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)):</span>

        <span class="c1"># Create a new dirpath based on station directory so we know which chans exist for that station</span>
        <span class="n">new_dirpath</span> <span class="o">=</span> <span class="n">dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">]</span>

        <span class="c1"># Get the list of chans for the station, if PSDS directory in the list (which will be for any station that had</span>
        <span class="c1"># PSDs run) then remove that item from the list</span>
        <span class="n">chans</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">new_dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="s1">&#39;PSDS&#39;</span> <span class="ow">in</span> <span class="n">chans</span><span class="p">:</span>
            <span class="n">chans</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;PSDS&#39;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">chan</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">chans</span><span class="p">)):</span>
            <span class="c1"># Get channel directory path</span>
            <span class="n">chan_dirpath</span> <span class="o">=</span> <span class="n">new_dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">]</span>

            <span class="c1"># Change directories to chan_dirpath so we make sure we write the files in the correct area and can open</span>
            <span class="c1"># up the csv files we need</span>
            <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">chan_dirpath</span><span class="p">)</span>

            <span class="c1"># Create station specific html name for basicStats</span>
            <span class="n">html_fname</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">.</span><span class="si">{}</span><span class="s1">.</span><span class="si">{}</span><span class="s1">.gapTable.html&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">])</span>

            <span class="c1"># Open the file</span>
            <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">html_fname</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

            <span class="c1"># Get correct channel csv file we need</span>
            <span class="n">csv_fname</span> <span class="o">=</span> <span class="s1">&#39;gapsMetric_</span><span class="si">{}</span><span class="s1">_All.csv&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">])</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># Create dataFrame from the above CSV file</span>
                <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">new_dirpath</span> <span class="o">+</span> <span class="s2">&quot;/&quot;</span> <span class="o">+</span> <span class="n">csv_fname</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
                <span class="c1"># if there are no gaps, the csv will not exist. Make empty df.</span>
                <span class="n">error_string</span> <span class="o">=</span> <span class="n">csv_fname</span> <span class="o">+</span> <span class="s1">&#39; does not exist for </span><span class="si">{}</span><span class="s1">.</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">error_string</span><span class="p">)</span>
                <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>

            <span class="c1"># Turn off truncation of the output for displays, before writing to file, that way output will show up as</span>
            <span class="c1"># desired</span>
            <span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_colwidth&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

            <span class="c1"># Convert dataFrame to html file</span>
            <span class="n">csv_body</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">to_html</span><span class="p">(</span><span class="n">na_rep</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">col_space</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>

            <span class="c1"># Write output to file, then close the file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">csv_body</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

            <span class="c1"># Done with loop now move back up to the station directory</span>
            <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">new_dirpath</span><span class="p">)</span>

    <span class="k">return</span></div>


<div class="viewcode-block" id="create_subspike_page_htmls"><a class="viewcode-back" href="../../../pycheron.UI.html#pycheron.UI.createHTML.create_subspike_page_htmls">[docs]</a><span class="k">def</span> <span class="nf">create_subspike_page_htmls</span><span class="p">(</span><span class="n">dirpath</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">       Creates sub spike page html pages for each station within a given network, translates actual table into html</span>

<span class="sd">       :param dirpath (str) - directory path where Pycheron output was written, should be for a specific network</span>

<span class="sd">       :return: returns $net.$sta.$chan.spikesTable.html for each station/chan in the current working directory</span>

<span class="sd">       &quot;&quot;&quot;</span>

    <span class="c1"># Obtain network name from dirpath, then grab out list of stations processed</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">dirpath</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">stalist</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># If css, js, images directories exist in current directory</span>
    <span class="k">if</span> <span class="s1">&#39;css&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;css&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;js&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;js&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;images&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">)</span>

    <span class="c1"># Loop through stations and create html</span>
    <span class="k">for</span> <span class="n">sta</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)):</span>

        <span class="c1"># Create a new dirpath based on station directory so we know which chans exist for that station</span>
        <span class="n">new_dirpath</span> <span class="o">=</span> <span class="n">dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">]</span>

        <span class="c1"># Get the list of chans for the station, if PSDS directory in the list (which will be for any station that had</span>
        <span class="c1"># PSDs run) then remove that item from the list</span>
        <span class="n">chans</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">new_dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="s1">&#39;PSDS&#39;</span> <span class="ow">in</span> <span class="n">chans</span><span class="p">:</span>
            <span class="n">chans</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;PSDS&#39;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">chan</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">chans</span><span class="p">)):</span>
            <span class="c1"># Get channel directory path</span>
            <span class="n">chan_dirpath</span> <span class="o">=</span> <span class="n">new_dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">]</span>

            <span class="c1"># Change directories to chan_dirpath so we make sure we write the files in the correct area and can open</span>
            <span class="c1"># up the csv files we need</span>
            <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">chan_dirpath</span><span class="p">)</span>

            <span class="c1"># Create station specific html name for basicStats</span>
            <span class="n">html_fname</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">.</span><span class="si">{}</span><span class="s1">.</span><span class="si">{}</span><span class="s1">.spikesTable.html&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">])</span>

            <span class="c1"># Open the file</span>
            <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">html_fname</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

            <span class="c1"># Get correct channel csv file we need</span>
            <span class="n">csv_fname</span> <span class="o">=</span> <span class="s1">&#39;spikesMetric_</span><span class="si">{}</span><span class="s1">_All.csv&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">])</span>

            <span class="c1"># Create dataFrame from the above CSV file</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">csv_fname</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
                <span class="n">error_string</span> <span class="o">=</span> <span class="n">csv_fname</span> <span class="o">+</span> <span class="s1">&#39; does not exist for </span><span class="si">{}</span><span class="s1">.</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">error_string</span><span class="p">)</span>
                <span class="c1">#If metric not run</span>
                <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
            <span class="c1"># Turn off truncation of the output for displays, before writing to file, that way output will show up as</span>
            <span class="c1"># desired</span>
            <span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_colwidth&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

            <span class="c1"># Convert dataFrame to html file. Set na_rep to empty so don&#39;t see NaNs,</span>
            <span class="n">csv_body</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">to_html</span><span class="p">(</span><span class="n">na_rep</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

            <span class="c1"># Write output to file, then close the file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">csv_body</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

            <span class="c1"># Done with loop now move back up to the station directory</span>
            <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">new_dirpath</span><span class="p">)</span>

    <span class="k">return</span></div>


<div class="viewcode-block" id="create_subdcOffset_page_htmls"><a class="viewcode-back" href="../../../pycheron.UI.html#pycheron.UI.createHTML.create_subdcOffset_page_htmls">[docs]</a><span class="k">def</span> <span class="nf">create_subdcOffset_page_htmls</span><span class="p">(</span><span class="n">dirpath</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">       Creates sub dcOffset page html pages for each station within a given network, translates actual table into html</span>

<span class="sd">       :param dirpath (str) - directory path where Pycheron output was written, should be for a specific network</span>

<span class="sd">       :return: returns $net.$sta.$chan.dcOffsetTable.html for each station/chan in the current working directory</span>

<span class="sd">       &quot;&quot;&quot;</span>

    <span class="c1"># Obtain network name from dirpath, then grab out list of stations processed</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">dirpath</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">stalist</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># If css, js, images directories exist in current directory</span>
    <span class="k">if</span> <span class="s1">&#39;css&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;css&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;js&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;js&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;images&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">)</span>

    <span class="c1"># Loop through stations and create html</span>
    <span class="k">for</span> <span class="n">sta</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)):</span>

        <span class="c1"># Create a new dirpath based on station directory so we know which chans exist for that station</span>
        <span class="n">new_dirpath</span> <span class="o">=</span> <span class="n">dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">]</span>

        <span class="c1"># Get the list of chans for the station, if PSDS directory in the list (which will be for any station that had</span>
        <span class="c1"># PSDs run) then remove that item from the list</span>
        <span class="n">chans</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">new_dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="s1">&#39;PSDS&#39;</span> <span class="ow">in</span> <span class="n">chans</span><span class="p">:</span>
            <span class="n">chans</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;PSDS&#39;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">chan</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">chans</span><span class="p">)):</span>
            <span class="c1"># Get channel directory path</span>
            <span class="n">chan_dirpath</span> <span class="o">=</span> <span class="n">new_dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">]</span>

            <span class="c1"># Change directories to chan_dirpath so we make sure we write the files in the correct area and can open</span>
            <span class="c1"># up the csv files we need</span>
            <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">chan_dirpath</span><span class="p">)</span>

            <span class="c1"># Create station specific html name for dcOffsetTable</span>
            <span class="n">html_fname</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">.</span><span class="si">{}</span><span class="s1">.</span><span class="si">{}</span><span class="s1">.dcOffsetTable.html&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">])</span>

            <span class="c1"># Open the file</span>
            <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">html_fname</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

            <span class="c1"># Get correct channel csv file we need</span>
            <span class="n">csv_fname</span> <span class="o">=</span> <span class="s1">&#39;DCOffSetTimesMetric_</span><span class="si">{}</span><span class="s1">_All.csv&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">])</span>

            <span class="c1"># Create dataFrame from the above CSV file</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">csv_fname</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
                <span class="n">error_string</span> <span class="o">=</span> <span class="n">csv_fname</span> <span class="o">+</span> <span class="s1">&#39; does not exist for </span><span class="si">{}</span><span class="s1">.</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">error_string</span><span class="p">)</span>
                <span class="c1">#If metric not run</span>
                <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>

            <span class="c1"># Turn off truncation of the output for displays, before writing to file, that way output will show up as</span>
            <span class="c1"># desired</span>
            <span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_colwidth&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

            <span class="c1"># Convert dataFrame to html file. Set na_rep to empty so don&#39;t see NaNs,</span>
            <span class="n">csv_body</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">to_html</span><span class="p">(</span><span class="n">na_rep</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

            <span class="c1"># Write output to file, then close the file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">csv_body</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

            <span class="c1"># Done with loop now move back up to the station directory</span>
            <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">new_dirpath</span><span class="p">)</span>

    <span class="k">return</span></div>


<div class="viewcode-block" id="create_subrepAmps_page_htmls"><a class="viewcode-back" href="../../../pycheron.UI.html#pycheron.UI.createHTML.create_subrepAmps_page_htmls">[docs]</a><span class="k">def</span> <span class="nf">create_subrepAmps_page_htmls</span><span class="p">(</span><span class="n">dirpath</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">       Creates sub repAmp page html pages for each station within a given network, translates actual table into html</span>

<span class="sd">       :param dirpath (str) - directory path where Pycheron output was written, should be for a specific network</span>

<span class="sd">       :return: returns $net.$sta.$chan.repAmpTable.html for each station/chan in the current working directory</span>

<span class="sd">       &quot;&quot;&quot;</span>

    <span class="c1"># Obtain network name from dirpath, then grab out list of stations processed</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">dirpath</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">stalist</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># If css, js, images directories exist in current directory</span>
    <span class="k">if</span> <span class="s1">&#39;css&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;css&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;js&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;js&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;images&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">)</span>

    <span class="c1"># Loop through stations and create html</span>
    <span class="k">for</span> <span class="n">sta</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)):</span>

        <span class="c1"># Create a new dirpath based on station directory so we know which chans exist for that station</span>
        <span class="n">new_dirpath</span> <span class="o">=</span> <span class="n">dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">]</span>

        <span class="c1"># Get the list of chans for the station, if PSDS directory in the list (which will be for any station that had</span>
        <span class="c1"># PSDs run) then remove that item from the list</span>
        <span class="n">chans</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">new_dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="s1">&#39;PSDS&#39;</span> <span class="ow">in</span> <span class="n">chans</span><span class="p">:</span>
            <span class="n">chans</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;PSDS&#39;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">chan</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">chans</span><span class="p">)):</span>
            <span class="c1"># Get channel directory path</span>
            <span class="n">chan_dirpath</span> <span class="o">=</span> <span class="n">new_dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">]</span>

            <span class="c1"># Change directories to chan_dirpath so we make sure we write the files in the correct area and can open</span>
            <span class="c1"># up the csv files we need</span>
            <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">chan_dirpath</span><span class="p">)</span>

            <span class="c1"># Create station specific html name for repAmpTable</span>
            <span class="n">html_fname</span> <span class="o">=</span>  <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">.</span><span class="si">{}</span><span class="s1">.</span><span class="si">{}</span><span class="s1">.repAmpTable.html&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">])</span>

            <span class="c1"># Open the file</span>
            <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">html_fname</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

            <span class="c1"># Get correct channel csv file we need</span>
            <span class="n">csv_fname</span> <span class="o">=</span> <span class="s1">&#39;repeatedAmplitudeValues_</span><span class="si">{}</span><span class="s1">_All.csv&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">])</span>

            <span class="c1"># Create dataFrame from the above CSV file</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">csv_fname</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
                <span class="n">error_string</span> <span class="o">=</span> <span class="n">csv_fname</span> <span class="o">+</span> <span class="s1">&#39; does not exist for </span><span class="si">{}</span><span class="s1">.</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">error_string</span><span class="p">)</span>
                <span class="c1">#If there are no repeatedAmps for this specific channel there will be no file</span>
                <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>

            <span class="c1"># Turn off truncation of the output for displays, before writing to file, that way output will show up as</span>
            <span class="c1"># desired</span>
            <span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_colwidth&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

            <span class="c1"># Convert dataFrame to html file. Set na_rep to empty so don&#39;t see NaNs,</span>
            <span class="n">csv_body</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">to_html</span><span class="p">(</span><span class="n">na_rep</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

            <span class="c1"># Write output to file, then close the file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">csv_body</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

            <span class="c1"># Done with loop now move back up to the station directory</span>
            <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">new_dirpath</span><span class="p">)</span>

    <span class="k">return</span></div>


<div class="viewcode-block" id="create_subSNR_page_htmls"><a class="viewcode-back" href="../../../pycheron.UI.html#pycheron.UI.createHTML.create_subSNR_page_htmls">[docs]</a><span class="k">def</span> <span class="nf">create_subSNR_page_htmls</span><span class="p">(</span><span class="n">dirpath</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">       Creates sub SNR page html pages for each station within a given network, translates actual table into html</span>

<span class="sd">       :param dirpath (str) - directory path where Pycheron output was written, should be for a specific network</span>

<span class="sd">       :return: returns $sta_$chan_snrTable.html for each station/chan in the current working directory</span>

<span class="sd">       &quot;&quot;&quot;</span>

    <span class="c1"># Grab out list of stations from dirpath</span>
    <span class="n">stalist</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># If css, js, images directories exist in current directory</span>
    <span class="k">if</span> <span class="s1">&#39;css&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;css&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;js&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;js&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;images&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">)</span>

    <span class="c1"># Loop through stations and create html</span>
    <span class="k">for</span> <span class="n">sta</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)):</span>

        <span class="c1"># Create a new dirpath based on station directory so we know which chans exist for that station</span>
        <span class="n">new_dirpath</span> <span class="o">=</span> <span class="n">dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">]</span>

        <span class="c1"># Get the list of chans for the station, if PSDS directory in the list (which will be for any station that had</span>
        <span class="c1"># PSDs run) then remove that item from the list</span>
        <span class="n">chans</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">new_dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="s1">&#39;PSDS&#39;</span> <span class="ow">in</span> <span class="n">chans</span><span class="p">:</span>
            <span class="n">chans</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;PSDS&#39;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">chan</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">chans</span><span class="p">)):</span>
            <span class="c1"># Get channel directory path</span>
            <span class="n">chan_dirpath</span> <span class="o">=</span> <span class="n">new_dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">]</span>

            <span class="c1"># Change directories to chan_dirpath so we make sure we write the files in the correct area and can open</span>
            <span class="c1"># up the csv files we need</span>
            <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">chan_dirpath</span><span class="p">)</span>

            <span class="c1"># Create station specific html name for repAmpTable</span>
            <span class="n">html_fname</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">_</span><span class="si">{}</span><span class="s1">_snrTable.html&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">])</span>

            <span class="c1"># Open the file</span>
            <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">html_fname</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

            <span class="c1"># Get correct channel csv file we need</span>
            <span class="n">csv_fname</span> <span class="o">=</span> <span class="s1">&#39;snrMetric_</span><span class="si">{}</span><span class="s1">_All.csv&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">])</span>

            <span class="c1"># Create dataFrame from the above CSV file</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">csv_fname</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
                <span class="n">error_string</span> <span class="o">=</span> <span class="n">csv_fname</span> <span class="o">+</span> <span class="s1">&#39; does not exist for </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">error_string</span><span class="p">)</span>
                <span class="c1">#if metric not ran, no file</span>
                <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>

            <span class="c1"># Turn off truncation of the output for displays, before writing to file, that way output will show up as</span>
            <span class="c1"># desired</span>
            <span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_colwidth&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

            <span class="c1"># Convert dataFrame to html file. Set na_rep to empty so don&#39;t see NaNs,</span>
            <span class="n">csv_body</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">to_html</span><span class="p">(</span><span class="n">na_rep</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

            <span class="c1"># Write output to file, then close file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">csv_body</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

            <span class="c1"># Done with loop now move back up to the station directory</span>
            <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">new_dirpath</span><span class="p">)</span>

    <span class="k">return</span></div>


<div class="viewcode-block" id="create_substalta_page_htmls"><a class="viewcode-back" href="../../../pycheron.UI.html#pycheron.UI.createHTML.create_substalta_page_htmls">[docs]</a><span class="k">def</span> <span class="nf">create_substalta_page_htmls</span><span class="p">(</span><span class="n">dirpath</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">       Creates sub STALTA page html pages for each station within a given network, translates actual table into html</span>

<span class="sd">       :param dirpath (str) - directory path where Pycheron output was written, should be for a specific network</span>

<span class="sd">       :return: returns $sta_$chan_staltaTable.html for each station/chan in the current working directory</span>

<span class="sd">       &quot;&quot;&quot;</span>

    <span class="c1"># Grab out list of statiosn from dirpath</span>
    <span class="n">stalist</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># If css, js, images directories exist in current directory</span>
    <span class="k">if</span> <span class="s1">&#39;css&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;css&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;js&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;js&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;images&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">)</span>

    <span class="c1"># Loop through stations and create html</span>
    <span class="k">for</span> <span class="n">sta</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)):</span>

        <span class="c1"># Create a new dirpath based on station directory so we know which chans exist for that station</span>
        <span class="n">new_dirpath</span> <span class="o">=</span> <span class="n">dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">]</span>

        <span class="c1"># Get the list of chans for the station, if PSDS directory in the list (which will be for any station that had</span>
        <span class="c1"># PSDs run) then remove that item from the list</span>
        <span class="n">chans</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">new_dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="s1">&#39;PSDS&#39;</span> <span class="ow">in</span> <span class="n">chans</span><span class="p">:</span>
            <span class="n">chans</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;PSDS&#39;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">chan</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">chans</span><span class="p">)):</span>
            <span class="c1"># Get channel directory path</span>
            <span class="n">chan_dirpath</span> <span class="o">=</span> <span class="n">new_dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">]</span>

            <span class="c1"># Change directories to chan_dirpath so we make sure we write the files in the correct area and can open</span>
            <span class="c1"># up the csv files we need</span>
            <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">chan_dirpath</span><span class="p">)</span>

            <span class="c1"># Create station specific html name for repAmpTable</span>
            <span class="n">html_fname</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">_</span><span class="si">{}</span><span class="s1">_staltaTable.html&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">])</span>

            <span class="c1"># Open the file</span>
            <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">html_fname</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

            <span class="c1"># Get correct channel csv file we need</span>
            <span class="n">csv_fname</span> <span class="o">=</span> <span class="s1">&#39;staltaMetric_</span><span class="si">{}</span><span class="s1">_All.csv&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">chans</span><span class="p">[</span><span class="n">chan</span><span class="p">])</span>

            <span class="c1"># Create dataFrame from the above CSV file</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">csv_fname</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
                <span class="n">error_string</span> <span class="o">=</span> <span class="n">csv_fname</span> <span class="o">+</span> <span class="s1">&#39; does not exist for </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">error_string</span><span class="p">)</span>
                <span class="c1">#If metric not run</span>
                <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>

            <span class="c1"># Turn off truncation of the output for displays, before writing to file, that way output will show up as</span>
            <span class="c1"># desired</span>
            <span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_colwidth&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

            <span class="c1"># Convert dataFrame to html file. Set na_rep to empty so don&#39;t see NaNs,</span>
            <span class="n">csv_body</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">to_html</span><span class="p">(</span><span class="n">na_rep</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

            <span class="c1"># Write output to file, then close file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">csv_body</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

            <span class="c1"># Done with loop now move back up to the station directory</span>
            <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">new_dirpath</span><span class="p">)</span>

    <span class="k">return</span></div>


<div class="viewcode-block" id="create_subcrosscorr_page_htmls"><a class="viewcode-back" href="../../../pycheron.UI.html#pycheron.UI.createHTML.create_subcrosscorr_page_htmls">[docs]</a><span class="k">def</span> <span class="nf">create_subcrosscorr_page_htmls</span><span class="p">(</span><span class="n">dirpath</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">       Creates sub cross correlation page html pages for each station within a given network, translates actual table</span>
<span class="sd">       into html</span>

<span class="sd">       :param dirpath (str) - directory path where Pycheron output was written, should be for a specific network</span>

<span class="sd">       :return: returns $sta_ccTable.html for each station in the current working directory</span>

<span class="sd">       &quot;&quot;&quot;</span>

    <span class="c1"># Obtain network name from dirpath, then grab out list of stations processed</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">dirpath</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">stalist</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># If css, js, images directories exist in current directory</span>
    <span class="k">if</span> <span class="s1">&#39;css&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;css&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;js&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;js&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;images&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">)</span>

    <span class="c1"># Loop through stations and create html</span>
    <span class="k">for</span> <span class="n">sta</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)):</span>

        <span class="c1"># Create a new dirpath based on station directory</span>
        <span class="n">new_dirpath</span> <span class="o">=</span> <span class="n">dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">]</span>

        <span class="c1"># Change directories to new_dirpath so we make sure we write the files in the correct area and can open</span>
        <span class="c1"># up the csv files we need</span>
        <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">new_dirpath</span><span class="p">)</span>

        <span class="c1"># Create station specific html name for ccTable</span>
        <span class="n">html_fname</span> <span class="o">=</span>  <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">_ccTable.html&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

        <span class="c1"># Open the file</span>
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">html_fname</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

        <span class="c1"># Create dataFrame from the above CSV file</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;crossCorrMetric_All.csv&#39;</span><span class="p">)</span>

            <span class="c1"># Turn off truncation of the output for displays, before writing to file, that way output will show up as</span>
            <span class="c1"># desired</span>
            <span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_colwidth&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

            <span class="c1"># Convert dataFrame to html file. Set na_rep to empty so don&#39;t see NaNs,</span>
            <span class="n">csv_body</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">to_html</span><span class="p">(</span><span class="n">na_rep</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

            <span class="c1"># Write output to file, then close file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">csv_body</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

        <span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
            <span class="n">error_string</span> <span class="o">=</span> <span class="s1">&#39;crossCorrMetric_All.csv does not exist for </span><span class="si">{}</span><span class="s1">.</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">error_string</span><span class="p">)</span>

        <span class="c1"># Done with loop now move back up to the main directory</span>
        <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">dirpath</span><span class="p">)</span>

    <span class="k">return</span></div>


<div class="viewcode-block" id="create_subcorr_page_htmls"><a class="viewcode-back" href="../../../pycheron.UI.html#pycheron.UI.createHTML.create_subcorr_page_htmls">[docs]</a><span class="k">def</span> <span class="nf">create_subcorr_page_htmls</span><span class="p">(</span><span class="n">dirpath</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">       Creates sub correlation page html pages for each station within a given network, translates actual table</span>
<span class="sd">       into html</span>

<span class="sd">       :param dirpath (str) - directory path where Pycheron output was written, should be for a specific network</span>

<span class="sd">       :return: returns $sta_corrTable.html for each station in the current working directory</span>

<span class="sd">       &quot;&quot;&quot;</span>

    <span class="c1"># Obtain network name from dirpath, then grab out list of stations processed</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">dirpath</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">stalist</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># If css, js, images directories exist in current directory</span>
    <span class="k">if</span> <span class="s1">&#39;css&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;css&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;js&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;js&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;images&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">)</span>

    <span class="c1"># Loop through stations and create html</span>
    <span class="k">for</span> <span class="n">sta</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)):</span>

        <span class="c1"># Create a new dirpath based on station directory</span>
        <span class="n">new_dirpath</span> <span class="o">=</span> <span class="n">dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">]</span>

        <span class="c1"># Change directories to new_dirpath so we make sure we write the files in the correct area and can open</span>
        <span class="c1"># up the csv files we need</span>
        <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">new_dirpath</span><span class="p">)</span>

        <span class="c1"># Create station specific html name for corrTable</span>
        <span class="n">html_fname</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">_corrTable.html&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

        <span class="c1"># Open the file</span>
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">html_fname</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

        <span class="c1"># Create dataFrame from the above CSV file</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;correlationMetric_All.csv&#39;</span><span class="p">)</span>

            <span class="c1"># Turn off truncation of the output for displays, before writing to file, that way output will show up as</span>
            <span class="c1"># desired</span>
            <span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_colwidth&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

            <span class="c1"># Convert dataFrame to html file. Set na_rep to empty so don&#39;t see NaNs,</span>
            <span class="n">csv_body</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">to_html</span><span class="p">(</span><span class="n">na_rep</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

            <span class="c1"># Write output to file, close to file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">csv_body</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

        <span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
            <span class="n">error_string</span> <span class="o">=</span> <span class="s1">&#39;correlationMetric_All.csv does not exist for </span><span class="si">{}</span><span class="s1">.</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">error_string</span><span class="p">)</span>

        <span class="c1"># Done with loop now move back up to the main directory</span>
        <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">dirpath</span><span class="p">)</span>

    <span class="k">return</span></div>


<div class="viewcode-block" id="create_subSOH_page_htmls"><a class="viewcode-back" href="../../../pycheron.UI.html#pycheron.UI.createHTML.create_subSOH_page_htmls">[docs]</a><span class="k">def</span> <span class="nf">create_subSOH_page_htmls</span><span class="p">(</span><span class="n">dirpath</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">       Creates sub SOH page html pages for each station within a given network, translates actual table</span>
<span class="sd">       into html</span>

<span class="sd">       :param dirpath (str) - directory path where Pycheron output was written, should be for a specific network</span>

<span class="sd">       :return: returns $sta_SOHTable.html for each station/chan in the current working directory</span>

<span class="sd">       &quot;&quot;&quot;</span>

    <span class="c1"># Obtain network name from dirpath, then grab out list of stations processed</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">dirpath</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">stalist</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># If css, js, images directories exist in current directory</span>
    <span class="k">if</span> <span class="s1">&#39;css&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;css&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;js&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;js&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;images&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">)</span>

    <span class="c1"># Loop through stations and create html</span>
    <span class="k">for</span> <span class="n">sta</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)):</span>

        <span class="c1"># Create a new dirpath based on station directory</span>
        <span class="n">new_dirpath</span> <span class="o">=</span> <span class="n">dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">]</span>

        <span class="c1"># Change directories to new_dirpath so we make sure we write the files in the correct area and can open</span>
        <span class="c1"># up the csv files we need</span>
        <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">new_dirpath</span><span class="p">)</span>

        <span class="c1"># Create station specific html name for SOHTable</span>
        <span class="n">html_fname</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">_SOHTable.html&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

        <span class="c1"># Open the file</span>
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">html_fname</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

        <span class="c1"># Create dataFrame from the above CSV file</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;sohMetric_All.csv&#39;</span><span class="p">)</span>

            <span class="c1"># Turn off truncation of the output for displays, before writing to file, that way output will show up as</span>
            <span class="c1"># desired</span>
            <span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_colwidth&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

            <span class="c1"># Convert dataFrame to html file. Set na_rep to empty so don&#39;t see NaNs,</span>
            <span class="n">csv_body</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">to_html</span><span class="p">(</span><span class="n">na_rep</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

            <span class="c1"># Write output to file, close file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">csv_body</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

        <span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
            <span class="n">error_string</span> <span class="o">=</span> <span class="s1">&#39;sohMetric_All.csv does not exist for </span><span class="si">{}</span><span class="s1">.</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">error_string</span><span class="p">)</span>

        <span class="c1"># Done with loop now move back up to the main directory</span>
        <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">dirpath</span><span class="p">)</span>

    <span class="k">return</span></div>


<div class="viewcode-block" id="create_substaGap_page_htmls"><a class="viewcode-back" href="../../../pycheron.UI.html#pycheron.UI.createHTML.create_substaGap_page_htmls">[docs]</a><span class="k">def</span> <span class="nf">create_substaGap_page_htmls</span><span class="p">(</span><span class="n">dirpath</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">       Creates sub station Gap page html pages for each station within a given network, translates actual table</span>
<span class="sd">       into html</span>

<span class="sd">       :param dirpath (str) - directory path where Pycheron output was written, should be for a specific network</span>

<span class="sd">       :return: returns $net.$sta.gapTable.html for each station/chan in the current working directory</span>

<span class="sd">       &quot;&quot;&quot;</span>

    <span class="c1"># Obtain network name from dirpath, then grab out list of stations processed</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">dirpath</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">stalist</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">dirpath</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># If css, js, images directories exist in current directory</span>
    <span class="k">if</span> <span class="s1">&#39;css&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;css&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;js&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;js&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;images&#39;</span> <span class="ow">in</span> <span class="n">stalist</span><span class="p">:</span>
        <span class="n">stalist</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">)</span>

    <span class="c1"># Loop through stations and create html</span>
    <span class="k">for</span> <span class="n">sta</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stalist</span><span class="p">)):</span>

        <span class="c1"># Create a new dirpath based on station directory</span>
        <span class="n">new_dirpath</span> <span class="o">=</span> <span class="n">dirpath</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">]</span>

        <span class="c1"># Change directories to new_dirpath so we make sure we write the files in the correct area and can open</span>
        <span class="c1"># up the csv files we need</span>
        <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">new_dirpath</span><span class="p">)</span>

        <span class="c1"># Create station specific html name for gapTable</span>
        <span class="n">html_fname</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">.</span><span class="si">{}</span><span class="s1">.gapTable.html&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>

        <span class="c1"># Open the file</span>
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">html_fname</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

        <span class="c1"># Create dataFrame from the above CSV file</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">csv_fname</span> <span class="o">=</span> <span class="s1">&#39;gapsMetric_</span><span class="si">{}</span><span class="s1">.csv&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">csv_fname</span><span class="p">)</span>

            <span class="c1"># Turn off truncation of the output for displays, before writing to file, that way output will show up as</span>
            <span class="c1"># desired</span>
            <span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_colwidth&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

            <span class="c1"># Convert dataFrame to html file. Set na_rep to empty so don&#39;t see NaNs,</span>
            <span class="n">csv_body</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">to_html</span><span class="p">(</span><span class="n">na_rep</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

            <span class="c1"># Write output to file, close file</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">csv_body</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

        <span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
            <span class="n">error_string</span> <span class="o">=</span> <span class="s1">&#39;gapsMetric_</span><span class="si">{}</span><span class="s1">.csv does not exist for </span><span class="si">{}</span><span class="s1">.</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">],</span> <span class="n">net</span><span class="p">,</span> <span class="n">stalist</span><span class="p">[</span><span class="n">sta</span><span class="p">])</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">error_string</span><span class="p">)</span>

        <span class="c1"># Done with loop now move back up to the main directory</span>
        <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">dirpath</span><span class="p">)</span>

    <span class="k">return</span></div>
</pre></div>

    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2019, Jessica Bobeck, Katherine Anderson Aur.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.9.<br/>
    </p>
  </div>
</footer>
  </body>
</html>