<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>pycheron.metricStore &#8212; Pycheron 2.1.0 documentation</title>
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html"><span><img src="_static/horse-128.png"></span>
          Pycheron</a>
        <span class="navbar-text navbar-version pull-left"><b>2.1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="install.html">Install</a></li>
                <li><a href="pycheron.html">Documentation</a></li>
                <li><a href="https://gitlab.sandia.gov/lynm/pycheron">Gitlab</a></li>
                <li><a href="tutorials">Tutorials</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Documentation <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">pycheron.metricStore</a><ul>
<li><a class="reference internal" href="#module-pycheron.metricStore.metric_store">pycheron.metricStore.metric_store</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <div class="section" id="pycheron-metricstore">
<h1>pycheron.metricStore<a class="headerlink" href="#pycheron-metricstore" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-pycheron.metricStore.metric_store">
<span id="pycheron-metricstore-metric-store"></span><h2>pycheron.metricStore.metric_store<a class="headerlink" href="#module-pycheron.metricStore.metric_store" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pycheron.metricStore.metric_store.MetricStore">
<em class="property">class </em><code class="descname">MetricStore</code><span class="sig-paren">(</span><em>id=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycheron/metricStore/metric_store.html#MetricStore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycheron.metricStore.metric_store.MetricStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class contains average stats for each unique snclq.  The stats are
possibly metric values but may also be statistics important to the
metric function but hidden from the user. metric values may be a number
or an array-like sequence of numbers. This can vary but it needs to be
consistent for any specific SNCLQ/metric_name combination.</p>
<p>Data is updated as 1-day values, which are stored in local memory. The
single-day data is gathered and once a full month of data is in local
memory, the data is averaged and stored to non-volatile memory.  This is
designed to be used in a streaming manner, as can be seen in the example in
__main__.  If a discontiguous date or SNCLQ is added to the metric
store, the previous per-day data is cleared.</p>
<p>The actual files are handles as follows:
-new file per SNCL
-new DataFrame per metric
-new row per year and month</p>
<dl class="method">
<dt id="pycheron.metricStore.metric_store.MetricStore.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>snclq</em>, <em>metric_name</em>, <em>year_month</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycheron/metricStore/metric_store.html#MetricStore.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycheron.metricStore.metric_store.MetricStore.get" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>Get the value of a metric for a specified snclq and year_month</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>snclq</strong> – </li>
<li><strong>metric_name</strong> – string name of metric</li>
<li><strong>year_month</strong> – tuple of two integers: (year, month)
OR any object that contains “year” and “month” attributes</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">metric value or None if entry is missing
metric value is an array of numbers or a number</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycheron.metricStore.metric_store.MetricStore.get_days">
<code class="descname">get_days</code><span class="sig-paren">(</span><em>snclq</em>, <em>metric_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycheron/metricStore/metric_store.html#MetricStore.get_days"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycheron.metricStore.metric_store.MetricStore.get_days" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the per-day data currently stored in volatile memory. Each time
a discontinuous date is added to the store, the previously stored
days will be cleared.
:param snclq:
:param metric_name: unique name for a metric
:return: tuple of lists: (values, dates)</p>
<blockquote>
<div><dl class="docutils">
<dt>“values” is a list of numbers or arrays, whatever was provided as</dt>
<dd>metric_value</dd>
<dt>“dates” is a list of datetime objects that are always quantized to</dt>
<dd>day, i.e. hour=0, minute=0, etc.</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="pycheron.metricStore.metric_store.MetricStore.metric_names">
<code class="descname">metric_names</code><span class="sig-paren">(</span><em>snclq</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycheron/metricStore/metric_store.html#MetricStore.metric_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycheron.metricStore.metric_store.MetricStore.metric_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the names of each metric that has already been added to the
metric store for this SNCLQ
:param snclq:
:return: list of strings</p>
</dd></dl>

<dl class="method">
<dt id="pycheron.metricStore.metric_store.MetricStore.put">
<code class="descname">put</code><span class="sig-paren">(</span><em>snclq</em>, <em>metric_name</em>, <em>metric_value</em>, <em>date</em>, <em>overwrite=False</em>, <em>reshape=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycheron/metricStore/metric_store.html#MetricStore.put"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycheron.metricStore.metric_store.MetricStore.put" title="Permalink to this definition">¶</a></dt>
<dd><p>put new metric value into local memory, then if the date is the last
day in the month and the rest of the month is in local memory,
write the full month’s data to the store.  The data written to the
store for a month is the average of the values for each day.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>snclq</strong> – </li>
<li><strong>metric_name</strong> – a unique metric name;
not necessarily something that the user would need!</li>
<li><strong>metric_value</strong> – new value (must be a number or array-like)</li>
<li><strong>overwrite</strong> – boolean; if False, the non-volatile store will not be
modified</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">True on successful write to store</p>
</td>
</tr>
</tbody>
</table>
<p>NOTE: it is important that the metric_value is a consistent
dimension for each unique metric, or averaging will throw an error.</p>
</dd></dl>

</dd></dl>

</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2019, Jessica Bobeck, Katherine Anderson Aur.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.9.<br/>
    </p>
  </div>
</footer>
  </body>
</html>